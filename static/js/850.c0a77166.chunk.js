"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[850],{60870:(e,t,a)=>{a.d(t,{Z:()=>i});var l,s=a(70537);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r.apply(this,arguments)}const n=(e,t)=>{let{title:a,titleId:n,...i}=e;return s.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",stroke:"black",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?s.createElement("title",{id:n},a):null,l||(l=s.createElement("path",{d:"M10 4L6 8L10 12",strokeOpacity:.8,strokeLinecap:"round",strokeLinejoin:"round"})))},i=(0,s.forwardRef)(n)},79884:(e,t,a)=>{a.d(t,{Z:()=>i});var l,s=a(70537);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r.apply(this,arguments)}const n=(e,t)=>{let{title:a,titleId:n,...i}=e;return s.createElement("svg",r({width:20,height:20,viewBox:"0 0 20 20",fill:"#616161",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?s.createElement("title",{id:n},a):null,l||(l=s.createElement("path",{d:"M6.48667 11.6667L6.83667 8.33333H3.325V6.66667H7L7.43333 2.5H9.10833L8.66667 6.66667H11.9833L12.4167 2.5H14.0917L13.65 6.66667H16.625V8.33333H13.4667L13.1167 11.6667H16.6167V13.3333H12.9333L12.4917 17.5H10.8083L11.2417 13.3333H7.91667L7.475 17.5H5.8L6.23333 13.3333H3.25V11.6667H6.4H6.48667ZM8.1625 11.6667H11.4875L11.8375 8.33333H8.5125L8.1625 11.6667Z"})))},i=(0,s.forwardRef)(n)},14317:(e,t,a)=>{a.d(t,{Z:()=>C});var l,s=a(70537),r=a(69195),n=a(66160);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i.apply(this,arguments)}const c=(e,t)=>{let{title:a,titleId:r,...n}=e;return s.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",fill:"#70707B",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,l||(l=s.createElement("path",{d:"M11.0004 17.5C11.0004 16.2111 11.3755 15.0098 12.0226 13.9993L4.25278 13.9999C3.01076 13.9999 2.00391 15.0068 2.00391 16.2488V17.1688C2.00391 17.7409 2.18231 18.2987 2.51427 18.7646C4.05643 20.9289 6.5794 22.0011 10.0004 22.0011C10.9317 22.0011 11.7966 21.9216 12.5921 21.7615C11.6006 20.6205 11.0004 19.1303 11.0004 17.5ZM15.0004 7.00464C15.0004 4.24321 12.7618 2.00464 10.0004 2.00464C7.23894 2.00464 5.00036 4.24321 5.00036 7.00464C5.00036 9.76606 7.23894 12.0046 10.0004 12.0046C12.7618 12.0046 15.0004 9.76606 15.0004 7.00464ZM23.0004 17.5C23.0004 14.4624 20.5379 12 17.5004 12C14.4628 12 12.0004 14.4624 12.0004 17.5C12.0004 20.5376 14.4628 23 17.5004 23C20.5379 23 23.0004 20.5376 23.0004 17.5ZM17.4105 14.008L17.5004 14L17.5902 14.008C17.7943 14.0451 17.9553 14.206 17.9923 14.4101L18.0004 14.5L17.9994 17H20.5043L20.5942 17.0081C20.7982 17.0451 20.9592 17.206 20.9962 17.4101L21.0043 17.5L20.9962 17.5899C20.9592 17.794 20.7982 17.9549 20.5942 17.9919L20.5043 18H17.9994L18.0004 20.5L17.9923 20.5899C17.9553 20.794 17.7943 20.9549 17.5902 20.9919L17.5004 21L17.4105 20.9919C17.2064 20.9549 17.0455 20.794 17.0084 20.5899L17.0004 20.5L16.9994 18H14.5043L14.4144 17.9919C14.2103 17.9549 14.0494 17.794 14.0123 17.5899L14.0043 17.5L14.0123 17.4101C14.0494 17.206 14.2103 17.0451 14.4144 17.0081L14.5043 17H16.9994L17.0004 14.5L17.0084 14.4101C17.0455 14.206 17.2064 14.0451 17.4105 14.008Z"})))},d=(0,s.forwardRef)(c);var o;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},h.apply(this,arguments)}const u=(e,t)=>{let{title:a,titleId:l,...r}=e;return s.createElement("svg",h({width:20,height:20,viewBox:"0 0 20 20",fill:"#616161",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},r),a?s.createElement("title",{id:l},a):null,o||(o=s.createElement("path",{d:"M10 1.75C14.5563 1.75 18.25 5.44365 18.25 10C18.25 12.8269 17.0262 14.75 15 14.75C13.7958 14.75 12.8751 14.0708 12.3262 12.9264C11.6738 13.7512 10.7016 14.25 9.5 14.25C7.20741 14.25 5.75 12.4342 5.75 10C5.75 7.53639 7.16021 5.75 9.5 5.75C10.3964 5.75 11.1564 6.01222 11.753 6.47429C11.7643 6.07167 12.0946 5.75 12.5 5.75C12.8797 5.75 13.1935 6.03215 13.2432 6.39823L13.25 6.5V10C13.25 12.1017 13.9808 13.25 15 13.25C16.0192 13.25 16.75 12.1017 16.75 10C16.75 6.27208 13.7279 3.25 10 3.25C6.27208 3.25 3.25 6.27208 3.25 10C3.25 13.7279 6.27208 16.75 10 16.75C10.794 16.75 11.5682 16.6132 12.2981 16.3489C12.6876 16.2079 13.1176 16.4093 13.2587 16.7988C13.3997 17.1883 13.1982 17.6183 12.8088 17.7593C11.9157 18.0827 10.9688 18.25 10 18.25C5.44365 18.25 1.75 14.5563 1.75 10C1.75 5.44365 5.44365 1.75 10 1.75ZM9.5 7.25C8.07681 7.25 7.25 8.29737 7.25 10C7.25 11.6694 8.11734 12.75 9.5 12.75C10.8827 12.75 11.75 11.6694 11.75 10C11.75 8.29737 10.9232 7.25 9.5 7.25Z"})))},m=(0,s.forwardRef)(u);var x=a(13386),p=a(18879),g=a(59476),v=a(89670),f=a(14566),b=a(80683);function C(){const{t:e}=(0,f.$G)(),t=(0,n.CG)((e=>e.authData.user)),[a,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),[o,h]=(0,s.useState)(!1),[u,C]=(0,s.useState)(!1),w=()=>{c((e=>(e||(0,r.Bn)(),!e)))},j=()=>{C((e=>(e||(0,r.Bn)(),!e)))},y=e=>{l(e),h(!0),(0,r.Bn)()},L="rounded flex items-center gap-2 text-sm font-semibold cursor-pointer px-2 py-2.5 md:hover:bg-gray-800/20 md:dark:hover:bg-gray-200/20",N="w-5 h-5 dark:fill-gray-300";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("ul",{className:"flex flex-col rounded-xl drop-shadow p-1 select-none text-gray-500 dark:text-gray-300 bg-white dark:bg-black",children:[(null===t||void 0===t?void 0:t.is_admin)&&(0,b.jsxs)("li",{className:L,onClick:y.bind(null,!1),children:[(0,b.jsx)(x.Z,{className:N}),e("action.new_channel")]}),(0,b.jsxs)("li",{className:L,onClick:y.bind(null,!0),children:[(0,b.jsx)(x.Z,{personal:!0,className:N}),e("action.new_private_channel")]}),(0,b.jsxs)("li",{className:L,onClick:j,children:[(0,b.jsx)(m,{className:N}),e("action.new_msg")]}),(0,b.jsxs)("li",{className:L,onClick:w,children:[(0,b.jsx)(d,{className:N}),e("action.invite_people")]})]}),o&&(0,b.jsx)(p.Z,{personal:a,closeModal:()=>{h(!1)}}),u&&(0,b.jsx)(g.Z,{closeModal:j}),i&&(0,b.jsx)(v.Z,{closeModal:w})]})}},72991:(e,t,a)=>{a.d(t,{Z:()=>I});var l,s,r=a(70537),n=a(14566),i=a(64084),c=a(24533),d=a(18879),o=a(89670),h=a(28533);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},u.apply(this,arguments)}const m=(e,t)=>{let{title:a,titleId:n,...i}=e;return r.createElement("svg",u({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?r.createElement("title",{id:n},a):null,l||(l=r.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#BDB4FE"})),s||(s=r.createElement("path",{d:"M30 20.5C30 14.9772 25.5228 10.5 20 10.5C14.4772 10.5 10 14.9772 10 20.5C10 22.1428 10.3972 23.7294 11.1449 25.1502L10.0285 29.4386C9.99198 29.5791 9.99199 29.7266 10.0286 29.867C10.1469 30.3213 10.6111 30.5937 11.0654 30.4753L15.3558 29.3583C16.7752 30.1039 18.3596 30.5 20 30.5C25.5228 30.5 30 26.0228 30 20.5ZM20 16.5C21.1046 16.5 22 17.3954 22 18.5V22.5C22 23.6046 21.1046 24.5 20 24.5H17C15.8954 24.5 15 23.6046 15 22.5V18.5C15 17.3954 15.8954 16.5 17 16.5H20ZM23 21.6619V19.3382L24.7344 17.6963C25.2125 17.2437 26 17.5826 26 18.2409V22.7591C26 23.4174 25.2125 23.7563 24.7344 23.3037L23 21.6619Z",fill:"white"})))},x=(0,r.forwardRef)(m);var p,g;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},v.apply(this,arguments)}const f=(e,t)=>{let{title:a,titleId:l,...s}=e;return r.createElement("svg",v({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,p||(p=r.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#ACDC79"})),g||(g=r.createElement("path",{d:"M20 10.5C25.523 10.5 30 14.978 30 20.5C30 26.022 25.523 30.5 20 30.5C14.477 30.5 10 26.022 10 20.5C10 14.978 14.477 10.5 20 10.5ZM20 24C19.4477 24 19 24.4477 19 25C19 25.5523 19.4477 26 20 26C20.5523 26 21 25.5523 21 25C21 24.4477 20.5523 24 20 24ZM20 15.25C18.4812 15.25 17.25 16.4812 17.25 18C17.25 18.4142 17.5858 18.75 18 18.75C18.3797 18.75 18.6935 18.4678 18.7432 18.1018L18.75 18C18.75 17.3096 19.3096 16.75 20 16.75C20.6904 16.75 21.25 17.3096 21.25 18C21.25 18.5388 21.115 18.8053 20.6051 19.3322L20.4697 19.4697C19.5916 20.3478 19.25 20.9171 19.25 22C19.25 22.4142 19.5858 22.75 20 22.75C20.4142 22.75 20.75 22.4142 20.75 22C20.75 21.4612 20.885 21.1947 21.3949 20.6678L21.5303 20.5303C22.4084 19.6522 22.75 19.0829 22.75 18C22.75 16.4812 21.5188 15.25 20 15.25Z",fill:"white"})))},b=(0,r.forwardRef)(f);var C,w;function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},j.apply(this,arguments)}const y=(e,t)=>{let{title:a,titleId:l,...s}=e;return r.createElement("svg",j({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,C||(C=r.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#FDE272"})),w||(w=r.createElement("path",{d:"M25.5 20.5C28.5376 20.5 31 22.9624 31 26C31 29.0376 28.5376 31.5 25.5 31.5C22.4624 31.5 20 29.0376 20 26C20 22.9624 22.4624 20.5 25.5 20.5ZM12 21.499L20.8094 21.5002C19.6887 22.6681 19 24.2536 19 26C19 27.0874 19.267 28.1124 19.739 29.013C18.6887 29.363 17.5306 29.5 16.5 29.5C13.7779 29.5 10.1647 28.544 10.0055 25.2296L10 25V23.499C10 22.395 10.896 21.499 12 21.499ZM25.5 22.5016L25.4101 22.5096C25.206 22.5467 25.0451 22.7076 25.0081 22.9117L25 23.0016V25.4996L22.5 25.5L22.4101 25.5081C22.206 25.5451 22.0451 25.706 22.0081 25.9101L22 26L22.0081 26.0899C22.0451 26.294 22.206 26.4549 22.4101 26.4919L22.5 26.5L25 26.4996V29L25.0081 29.0899C25.0451 29.294 25.206 29.4549 25.4101 29.4919L25.5 29.5L25.5899 29.4919C25.794 29.4549 25.9549 29.294 25.9919 29.0899L26 29V26.4996L28.5 26.5L28.5899 26.4919C28.794 26.4549 28.9549 26.294 28.9919 26.0899L29 26L28.9919 25.9101C28.9549 25.706 28.794 25.5451 28.5899 25.5081L28.5 25.5L26 25.4996V23.0016L25.9919 22.9117C25.9549 22.7076 25.794 22.5467 25.5899 22.5096L25.5 22.5016ZM16.5 10.5C18.985 10.5 21 12.515 21 15C21 17.485 18.985 19.5 16.5 19.5C14.015 19.5 12 17.485 12 15C12 12.515 14.015 10.5 16.5 10.5ZM25.5 12.5C27.433 12.5 29 14.067 29 16C29 17.933 27.433 19.5 25.5 19.5C23.567 19.5 22 17.933 22 16C22 14.067 23.567 12.5 25.5 12.5Z",fill:"white"})))},L=(0,r.forwardRef)(y);var N,Z;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},k.apply(this,arguments)}const _=(e,t)=>{let{title:a,titleId:l,...s}=e;return r.createElement("svg",k({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},s),a?r.createElement("title",{id:l},a):null,N||(N=r.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#FF9C66"})),Z||(Z=r.createElement("path",{d:"M16.2554 17.4999C17.2219 17.4999 18.0054 18.2834 18.0054 19.2499V28.75C18.0054 29.7165 17.2219 30.5 16.2554 30.5H11.751C10.7845 30.5 10.001 29.7165 10.001 28.75V19.2499C10.001 18.2834 10.7845 17.4999 11.751 17.4999H16.2554ZM14.2532 26.9952H13.7532L13.6514 27.002C13.2853 27.0517 13.0032 27.3655 13.0032 27.7452C13.0032 28.1249 13.2853 28.4387 13.6514 28.4883L13.7532 28.4952H14.2532L14.355 28.4883C14.721 28.4387 15.0032 28.1249 15.0032 27.7452C15.0032 27.3655 14.721 27.0517 14.355 27.002L14.2532 26.9952ZM27.7504 10.5C28.9412 10.5 29.916 11.4252 29.9952 12.596L30.0004 12.75V21.75C30.0004 22.9409 29.0752 23.9156 27.9044 23.9948L27.7504 24H24.0044V26H25.2504C25.6646 26 26.0004 26.3358 26.0004 26.75C26.0004 27.1297 25.7182 27.4435 25.3521 27.4932L25.2504 27.5H19.0004V26H22.5044V24H19.0004V19C19.0004 17.6745 17.9688 16.59 16.6647 16.5053L16.5004 16.5H12.0004V12.75C12.0004 11.5591 12.9255 10.5844 14.0963 10.5052L14.2504 10.5H27.7504Z",fill:"white"})))},H=(0,r.forwardRef)(_);var E=a(59476),M=a(66160),O=a(51892),V=a(80683);const S="w-[220px] md:w-[200px] h-[100px] md:h-[200px] cursor-pointer bg-gray-50 dark:bg-gray-800 rounded-3xl flex-center flex-col gap-4",P="w-7 h-7 md:w-10 md:h-10",G="px-5 text-xs md:text-sm text-slate-600 dark:text-gray-100 font-bold text-center",I=e=>{var t;let{type:a="chat"}=e;const{t:l}=(0,n.$G)("welcome"),{server:s,isAdmin:u}=(0,M.CG)((e=>{var t;return{server:e.server,isAdmin:null===(t=e.authData.user)||void 0===t?void 0:t.is_admin}})),[m,p]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[f,C]=(0,r.useState)(!1),{upgraded:w}=(0,O.Z)(),j=()=>{v((e=>!e))},y=()=>{C((e=>!e))},N=()=>{p((e=>!e))},Z=l("chat"==a?"start_by_channel":"start_by_dm"),k="chat"==a?j:y;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex flex-col gap-8 -mt-[50px] dark:bg-gray-700",children:[(0,V.jsxs)("div",{className:"flex flex-col gap-2 items-center group",children:[(0,V.jsx)("h2",{className:"text-center text-3xl text-slate-700 dark:text-white font-bold",children:l("title",{name:s.name})}),(0,V.jsxs)("p",{className:"text-sm text-gray-400 max-w-md text-center relative break-all whitespace-pre",children:[(0,V.jsx)(c.Z,{options:{render:{url:e=>{let{content:t,attributes:{href:a}}=e;return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("a",{className:"text-primary-400",target:"_blank",href:a,rel:"noreferrer",children:t})})}}},children:null!==(t=s.description)&&void 0!==t?t:l("desc")}),u&&(0,V.jsx)(i.OL,{to:"/setting/overview",className:"absolute -top-6 -right-6 invisible group-hover:visible",children:(0,V.jsx)(h.Z,{})})]})]}),(0,V.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 grid-rows-2 gap-2 md:gap-6 m-auto",children:[(0,V.jsxs)("div",{className:S,onClick:N,children:[(0,V.jsx)(L,{className:P}),(0,V.jsx)("div",{className:G,children:l("invite")})]}),(0,V.jsxs)("button",{onClick:k,className:S,children:[(0,V.jsx)(x,{className:P}),(0,V.jsx)("div",{className:G,children:Z})]}),!w&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("a",{href:"https://voce.chat#download",target:"_blank",rel:"noreferrer",className:S,children:[(0,V.jsx)(H,{className:P}),(0,V.jsx)("div",{className:G,children:l("download")})]}),(0,V.jsxs)("a",{href:"https://doc.voce.chat",target:"_blank",rel:"noreferrer",className:S,children:[(0,V.jsx)(b,{className:P}),(0,V.jsx)("div",{className:G,children:l("help")})]})]})]})]}),g&&(0,V.jsx)(d.Z,{personal:!0,closeModal:j}),f&&(0,V.jsx)(E.Z,{closeModal:y}),m&&(0,V.jsx)(o.Z,{closeModal:N})]})}},13386:(e,t,a)=>{a.d(t,{Z:()=>h});var l,s,r=a(79884),n=a(70537);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i.apply(this,arguments)}const c=(e,t)=>{let{title:a,titleId:r,...c}=e;return n.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"#616161",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,l||(l=n.createElement("path",{d:"M6.83667 8.33333L6.48667 11.6667H6.4H3.25V13.3333H6.23333L5.8 17.5H7.475L7.91667 13.3333H11.2417L10.8083 17.5H12.4917L12.9333 13.3333H16.6167V11.6667H13.1167L13.2917 10H11.6625L11.4875 11.6667H8.1625L8.5125 8.33333H10.8334V6.66667H8.66667L9.10833 2.5H7.43333L7 6.66667H3.325V8.33333H6.83667Z"})),s||(s=n.createElement("path",{d:"M16.6875 4.16675V3.33341C16.6875 2.40008 15.875 1.66675 15 1.66675C14.125 1.66675 13.3333 2.40008 13.3333 3.33341V4.16675C12.8731 4.16675 12.5 4.53985 12.5 5.00008V7.50008C12.5 7.96031 12.8731 8.33341 13.3333 8.33341H15H16.6667C17.1269 8.33341 17.5 7.96031 17.5 7.50008V4.97925C17.5 4.53051 17.1362 4.16675 16.6875 4.16675ZM15.8333 4.16675H14.1667V3.33341C14.1667 2.85722 14.5556 2.50008 15 2.50008C15.4444 2.50008 15.8333 2.85722 15.8333 3.33341V4.16675Z"})))},d=(0,n.forwardRef)(c);var o=a(80683);const h=e=>{let{personal:t=!1,muted:a=!1,className:l=""}=e;return(0,o.jsx)("div",{className:`flex ${a?"!text-gray-400":""} ${l}`,children:t?(0,o.jsx)(d,{className:"dark:fill-gray-300"}):(0,o.jsx)(r.Z,{className:"dark:fill-gray-300"})})}},18879:(e,t,a)=>{a.d(t,{Z:()=>b});var l=a(70537),s=a(27418),r=a(15924),n=a(14566),i=a(57425),c=a(80874),d=a(69885),o=a(13386),h=a(33941),u=a(24645),m=a(9975),x=a(72136),p=a(6144),g=a(66160),v=a(18541),f=a(80683);const b=e=>{let{personal:t=!1,closeModal:a}=e;const{t:b}=(0,n.$G)("chat"),C=(0,r.s0)(),[w]=(0,p.R4)(),{loginUser:j,channelData:y}=(0,g.CG)((e=>({loginUser:e.authData.user,channelData:e.channels.byId}))),[L,N]=(0,l.useState)({name:"",description:"",members:null!==j&&void 0!==j&&j.uid?[j.uid]:[],is_public:!t}),{users:Z,input:k,updateInput:_}=(0,x.Z)(),[H,{isSuccess:E,isError:M,isLoading:O,data:V}]=(0,p.db)();(0,l.useEffect)((()=>{M&&s.ZP.error("create new channel failed")}),[M]),(0,l.useEffect)((()=>{const e="object"==typeof V?V.gid:V;if(E&&e&&y[e]){var t;const l=y[e].name,r=null!==(t=v.ZP.t("welcome_msg",{ns:"chat",name:l}))&&void 0!==t?t:"";w({id:e,content:r,from_uid:null===j||void 0===j?void 0:j.uid,type:"text"}),a(),s.ZP.success("create new channel success"),C(`/chat/channel/${e}`)}}),[E,V,y]);const S=e=>{var t;let{currentTarget:a}=e;const l=null!==(t=L.members)&&void 0!==t?t:[],{uid:s}=a.dataset,r=Number(s);let n=l.includes(r)?l.filter((e=>e!=r)):[...l,r];N((e=>({...e,members:n})))};if(!j)return null;const{name:P,members:G,is_public:I}=L,B=j.uid;return(0,f.jsx)(c.Z,{children:(0,f.jsxs)("div",{className:"flex flex-col md:flex-row max-h-screen md:max-h-[402px] bg-white dark:bg-gray-800 drop-shadow rounded-lg",children:[!I&&(0,f.jsxs)("div",{className:"md:w-[260px] md:shadow-[inset_-1px_0px_0px_rgba(0,_0,_0,_0.1)]",children:[(0,f.jsx)("div",{className:"sticky top-0 z-[99] rounded-tl-lg shadow-[0px_1px_0px_rgba(0,_0,_0,_0.1)] p-2 w-[calc(100%_-_1px)]",children:(0,f.jsx)("input",{className:"outline-none p-2 text-sm w-full bg-transparent dark:text-white",value:k,onChange:e=>{_(e.target.value)},placeholder:b("search_user_placeholder")})}),Z&&(0,f.jsx)("ul",{className:"flex flex-col overflow-y-scroll overflow-x-hidden max-h-80 md:h-[calc(100%_-_52px_-_10px)]",children:Z.map((e=>{const{uid:t}=e,a=!!G&&G.includes(t);return(0,f.jsxs)("li",{"data-uid":t,className:"cursor-pointer flex items-center px-4 rounded md:hover:bg-gray-500/10",onClick:B==t?void 0:S,children:[(0,f.jsx)(u.Z,{disabled:B==t,readOnly:!0,checked:a,name:"cb",id:"cb"}),(0,f.jsx)(h.Z,{uid:t,interactive:!1})]},t)}))})]}),(0,f.jsxs)("div",{className:(0,i.Z)("w-80 md:min-w-[400px] flex flex-col items-center p-8 box-border",!I&&"w-[344px] justify-evenly"),children:[(0,f.jsx)("h3",{className:"font-semibold text-xl text-gray-600 mb-4 dark:text-white",children:b("create_channel")}),(0,f.jsx)("p",{className:"text-gray-400 mb-2 md:mb-12 text-sm font-normal",children:b(I?"create_channel_desc":"create_private_channel_desc")}),(0,f.jsxs)("div",{className:"w-full flex flex-col justify-start gap-2 mb-2 md:mb-8",children:[(0,f.jsx)("span",{className:"text-gray-400 text-sm font-normal",children:b("channel_name")}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("input",{className:"text-gray-600 dark:text-gray-300 rounded p-2 pl-9 border border-solid border-gray-300 w-full bg-transparent",onChange:e=>{N((t=>({...t,name:e.target.value})))},value:P,placeholder:"new channel"}),(0,f.jsx)(o.Z,{personal:!I,className:"absolute left-2 top-1/2 -translate-y-1/2"})]})]}),(0,f.jsxs)("div",{className:"w-full flex items-center justify-between mb-8 md:mb-12",children:[(0,f.jsx)("span",{className:"text-gray-400 text-sm",children:b("private_channel")}),(0,f.jsx)(m.Z,{checked:!I,disabled:!(null!==j&&void 0!==j&&j.is_admin),onClick:()=>{const{is_public:e}=L;N((t=>({...t,is_public:!e})))}})]}),(0,f.jsxs)("div",{className:"w-full flex gap-4 items-center justify-end",children:[(0,f.jsx)(d.Z,{onClick:a,className:"text-sm cancel",children:b("action.cancel",{ns:"common"})}),(0,f.jsx)(d.Z,{disabled:O,onClick:()=>{L.name?(L.is_public&&delete L.members,H(L)):(0,s.ZP)("please input channel name")},className:"text-sm",children:b("action.create",{ns:"common"})})]})]})]})})}},94271:(e,t,a)=>{a.d(t,{Z:()=>n});a(70537);var l=a(15924),s=a(60870),r=a(80683);const n=e=>{let{path:t,className:a=""}=e;const n=(0,l.s0)(),i=(0,l.bS)("/chat/channel/:channel_id"),c=(0,l.bS)("/chat/dm/:user_id"),d=(0,l.bS)("/users/:user_id"),o=!!i||!!c;return(0,r.jsx)("button",{className:`p-1 absolute left-0 md:hidden ${a}`,onClick:()=>{n(t||(o?"/chat":d?"/users":-1))},children:(0,r.jsx)(s.Z,{className:"dark:stroke-white  w-6 h-6"})})}},89670:(e,t,a)=>{a.d(t,{Z:()=>w});var l=a(70537),s=a(27418),r=a(14566),n=a(15312),i=a(4884),c=a(43764),d=a(69885),o=a(17237),h=a(80683);const u=e=>{let{cid:t}=e;const{t:a}=(0,r.$G)("chat"),{t:u}=(0,r.$G)(),[m,x]=(0,l.useState)(""),p=(0,l.useRef)(null),[g,{isSuccess:v,isLoading:f}]=(0,n.wi)(),{enableSMTP:b,linkCopied:C,link:w,copyLink:j,generateNewLink:y,generating:L}=(0,i.Z)(t);(0,l.useEffect)((()=>{C&&s.ZP.success("Invite Link Copied!")}),[C]),(0,l.useEffect)((()=>{v&&s.ZP.success("Email Sent!")}),[v]);return(0,h.jsxs)("div",{className:"pt-4",children:[(0,h.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[(0,h.jsx)("label",{className:"text-sm text-gray-400 dark:text-gray-100",htmlFor:"",children:a("invite_by_email")}),(0,h.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,h.jsx)("form",{ref:p,action:"/",className:"w-full",children:(0,h.jsx)(o.Z,{className:"!pr-20",required:!0,value:m,onChange:e=>{x(e.target.value)},disabled:!b,type:"email",name:"email",placeholder:b?"Enter Email":a("enable_smtp")})}),(0,h.jsx)(d.Z,{disabled:!b||!m||f,className:"send",onClick:()=>{if(p&&p.current){const e=p.current;e.checkValidity()?g(m):e.reportValidity()}},children:u("action.send")})]})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-2 mb-3",children:[(0,h.jsx)("label",{className:"text-sm text-gray-400 dark:text-gray-100",htmlFor:"",children:a("send_invite_link")}),(0,h.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,h.jsx)(o.Z,{readOnly:!0,className:"!pr-[50px]",placeholder:"Generating",value:w}),(0,h.jsx)("button",{className:"absolute right-1 top-1/2 -translate-y-1/2 pr-2 text-sm text-primary-400 hover:text-primary-600",onClick:j,children:u("action.copy")})]})]}),(0,h.jsx)("div",{className:"w-44 h-44 my-2",children:!L&&(0,h.jsx)(c.Z,{size:1200,link:w})}),(0,h.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-200",children:[a("invite_link_expire"),(0,h.jsx)("button",{disabled:L,className:"text-primary-400 ml-1",onClick:()=>y(),children:a("generate_new_link")})]})]})};var m=a(33941),x=a(24645),p=a(6144),g=a(25552),v=a(72136),f=a(66160);const b=e=>{let{cid:t=0,closeModal:a}=e;const[r,{isLoading:n,isSuccess:i}]=(0,p.Hj)(),[c,u]=(0,l.useState)([]),{channel:b,userData:C}=(0,f.CG)((e=>({channel:e.channels.byId[t],userData:e.users.byId})));(0,l.useEffect)((()=>{i&&(s.ZP.success("Add members successfully!"),a())}),[i]);const{input:w,updateInput:j,users:y=[]}=(0,v.Z)(),L=e=>{let{currentTarget:t}=e;const a=Number(t.dataset.uid);c.includes(a)?u((e=>e.filter((e=>e!=a)))):u([...c,+a])};if(!b)return null;const{members:N}=b,Z=y.map((e=>(null===e||void 0===e?void 0:e.uid)||0));return(0,h.jsxs)("div",{className:"pt-4",children:[(0,h.jsx)("div",{className:"flex items-center w-[376px] min-h-[40px] px-2 py-1.5 mb-3 border border-solid border-slate-100 shadow rounded",children:(0,h.jsxs)("ul",{className:"flex items-center flex-wrap gap-1 w-full overflow-scroll",children:[c.map((e=>{var t;return(0,h.jsxs)("li",{className:"px-1.5 py-1 rounded text-sm bg-primary-300 text-white flex items-center justify-between gap-1",children:[null===(t=C[e])||void 0===t?void 0:t.name,(0,h.jsx)(g.Z,{"data-uid":e,onClick:L,className:"cursor-pointer w-3 h-3 fill-white"})]},e)})),(0,h.jsx)(o.Z,{autoFocus:!0,type:"text",className:"!w-fit none",value:w,onChange:e=>{j(e.target.value)}})]})}),(0,h.jsx)("ul",{className:"flex flex-col pb-5 max-h-[364px] overflow-scroll",children:Z.map((e=>{const t=N.includes(e);return(0,h.jsxs)("li",{"data-uid":e,className:"cursor-pointer flex items-center px-2 py-1 rounded-lg md:hover:bg-slate-400/20",onClick:t?void 0:L,children:[(0,h.jsx)(x.Z,{disabled:t,readOnly:!0,checked:t||c.includes(e),name:"cb",id:"cb"}),(0,h.jsx)(m.Z,{uid:e,interactive:!1})]},e)}))}),(0,h.jsxs)(d.Z,{disabled:0==c.length||n,className:"flex mt-4 justify-center items-center",onClick:()=>{r({id:t,members:c})},children:[n?"Adding":"Add"," to #",b.name]})]})};var C=a(80874);const w=e=>{let{type:t="server",cid:a,title:l="",closeModal:s}=e;const{t:n}=(0,r.$G)("chat"),{channel:i,server:c}=(0,f.CG)((e=>({channel:a?e.channels.byId[a]:void 0,server:e.server}))),d="server"==t?c.name:`#${l||(null===i||void 0===i?void 0:i.name)}`;return(0,h.jsx)(C.Z,{children:(0,h.jsxs)("div",{className:"flex flex-col bg-white dark:bg-gray-900 rounded-lg p-4 max-h-[85vh] overflow-y-scroll  md:min-w-[408px] relative",children:[(0,h.jsxs)("h2",{className:"flex items-center justify-between text-lg text-gray-700 dark:text-gray-50",children:[n("invite_title",{name:d}),(0,h.jsx)(g.Z,{className:"cursor-pointer dark:fill-white",onClick:s})]}),!(null!==i&&void 0!==i&&i.is_public)&&(0,h.jsx)(b,{cid:a,closeModal:s}),(0,h.jsx)(u,{cid:null!==i&&void 0!==i&&i.is_public?void 0:a})]})})}},43764:(e,t,a)=>{a.d(t,{Z:()=>n});var l=a(36185),s=a(66160),r=a(80683);const n=e=>{let{link:t,size:a=512,level:n="L"}=e;const i=(0,s.CG)((e=>e.server.logo));return(0,r.jsx)("div",{className:"p-2 bg-white dark:bg-slate-200 rounded",children:(0,r.jsx)(l.ZP,{renderAs:"svg",value:t,className:"rounded border border-solid border-gray-200 dark:border-none !w-full !h-full",size:a,bgColor:"#fff",fgColor:"#000",level:n,imageSettings:{src:i,x:void 0,y:void 0,height:a/6,width:a/6,excavate:!0}})})}},59476:(e,t,a)=>{a.d(t,{Z:()=>h});var l=a(70537),s=a(64084),r=a(97943),n=a(72136),i=a(33941),c=a(80874),d=a(14566),o=a(80683);const h=e=>{let{closeModal:t}=e;const{t:a}=(0,d.$G)("chat"),h=(0,l.useRef)(null),{users:u,updateInput:m,input:x}=(0,n.Z)();(0,r.O)(h,t);return(0,o.jsx)(c.Z,{children:(0,o.jsxs)("div",{className:"flex flex-col w-80 md:w-[440px] max-h-[402px] bg-white dark:bg-gray-900 drop-shadow rounded-lg",ref:h,children:[(0,o.jsx)("div",{className:"shadow-md p-2",children:(0,o.jsx)("input",{className:"p-2 text-sm bg-transparent dark:text-white",value:x,onChange:e=>{m(e.target.value)},placeholder:a("search_user_placeholder")})}),u&&(0,o.jsx)("ul",{className:"flex flex-col overflow-y-scroll h-[260px] py-4",children:u.map((e=>{const{uid:a=0}=e||{};return(0,o.jsx)("li",{className:"cursor-pointer px-2 md:hover:bg-gray-600/10",children:(0,o.jsx)(s.OL,{className:"w-full",onClick:t,to:`/chat/dm/${a}`,children:(0,o.jsx)(i.Z,{uid:a,interactive:!1})})},a)}))})]})})}},9975:(e,t,a)=>{a.d(t,{Z:()=>r});var l=a(57425),s=a(80683);const r=e=>{const{checked:t=!0,disabled:a=!1}=e;return(0,s.jsx)("div",{...e,className:(0,l.Z)("cursor-pointer relative w-11 h-6  rounded-xl",t?"bg-primary-400":"bg-gray-300",a&&"cursor-not-allowed bg-gray-400 pointer-events-none"),children:(0,s.jsx)("div",{className:(0,l.Z)("rounded-full bg-white w-5 h-5 absolute top-0.5 right-0.5 transition-all",!t&&"-translate-x-full")})})}},4884:(e,t,a)=>{a.d(t,{Z:()=>i});var l=a(70537),s=a(26209),r=a(65809),n=a(6144);function i(e){const[t,a]=(0,l.useState)(""),{data:i,isSuccess:c}=(0,r.n8)(),[d,{data:o,isLoading:h}]=(0,n.CU)(),{copied:u,copy:m}=(0,s.Z)({enableToast:!1});(0,l.useEffect)((()=>{d(e)}),[e]),(0,l.useEffect)((()=>{o&&c&&a(o)}),[o,c]);return{enableSMTP:i,generating:h,generateNewLink:e?d.bind(null,e):()=>{d()},link:t,linkCopied:u,copyLink:()=>{m(t)}}}},51892:(e,t,a)=>{a.d(t,{Z:()=>n});var l=a(70537),s=a(65809),r=a(66160);const n=()=>{var e;const{userCount:t,isGuest:a,upgraded:n}=(0,r.CG)((e=>({userCount:e.users.ids.length,isGuest:e.authData.guest,upgraded:e.server.licenseUpgraded}))),{data:i,refetch:c}=(0,s.qM)(void 0,{refetchOnMountOrArgChange:!0,skip:a}),[d,{isLoading:o,isSuccess:h}]=(0,s.U_)(),[u,{isSuccess:m,isLoading:x,reset:p}]=(0,s.yn)();(0,l.useEffect)((()=>{m&&(c(),p())}),[m]);return{upgraded:n,reachLimit:t>=(null!==(e=null===i||void 0===i?void 0:i.user_limit)&&void 0!==e?e:Number.MAX_SAFE_INTEGER),license:i,checked:h,checking:o,upserting:x,upserted:m,checkLicense:e=>{d(e)},upsertLicense:async e=>{const t=await d(e);return!(!("data"in t)||!t.data.sign)&&await u(e)}}}},65953:(e,t,a)=>{e.exports=a.p+"static/media/add.cb996a078c39d9dd6458.svg"}}]);