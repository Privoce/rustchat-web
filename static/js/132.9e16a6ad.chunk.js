"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[132],{22421:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(70537),r=a(14566),l=a(64084),c=a(26602),n=a(80683);function i(e){var s;let{token:a}=e;const{t:i}=(0,r.$G)("auth");let[o]=(0,l.lr)(new URLSearchParams(location.search));const d=null!==(s=o.get("ctx"))&&void 0!==s?s:"app";return(0,t.useEffect)((()=>{(0,c.tq)()&&a&&"app"==d&&(location.href=`https://join.voce.chat/download?link=${encodeURIComponent(`${location.origin}?magic_token=${a}`)}`)}),[a,d]),(0,n.jsxs)("div",{className:"flex gap-1 mt-7 text-sm text-slate-500 dark:text-gray-100 justify-center",children:[(0,n.jsx)("span",{children:i("reg.have_account")}),(0,n.jsx)(l.OL,{to:"/login",className:"text-primary-400 cursor-pointer",children:i("sign_in")})]})}},62132:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(70537),r=a(27418),l=a(14566),c=a(15924),n=a(80308),i=a(15312),o=a(66160),d=a(51285),x=a(4472),m=a(99487),h=a(61756),u=a(22421),f=a(80683);const g=e=>{let{email:s,reset:a}=e;const{t:t}=(0,l.$G)("auth");return(0,f.jsxs)("div",{className:"flex flex-col items-center",children:[(0,f.jsx)("h2",{className:"font-semibold text-2xl text-gray-800 dark:text-gray-200 mb-2",children:t("check_email")}),(0,f.jsx)("span",{className:"text-center text-gray-500 mb-6",children:t("check_email_desc",{email:s})}),(0,f.jsx)(x.Z,{onClick:a,className:"main flex-center",children:t("use_different")})]})};function p(){const{t:e}=(0,l.$G)("auth"),s=(0,o.CG)((e=>e.server.name)),[a,p]=(0,t.useState)(!1),[j,{isSuccess:b,isLoading:k,error:v}]=(0,i.wi)(),N=(0,c.s0)(),[y,w]=(0,t.useState)("");(0,t.useEffect)((()=>{b&&(r.ZP.success("Send Email Successfully!"),p(!0))}),[b]),(0,t.useEffect)((()=>{if(v&&"status"in v)switch(v.status){case"PARSING_ERROR":r.ZP.error(v.data);break;case 401:r.ZP.error("Username or Password Incorrect");break;case 404:r.ZP.error("Account not exist");break;default:r.ZP.error("Something Error")}else;}),[v]);return(0,f.jsx)("div",{className:"flex-center h-screen dark:bg-gray-700",children:(0,f.jsx)("div",{className:"py-8 px-10 shadow rounded-xl",children:a?(0,f.jsx)(g,{email:y,reset:()=>{w(""),p(!1)}}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex flex-col items-center",children:[(0,f.jsx)("img",{src:`${n.ZP}/resource/organization/logo`,alt:"logo",className:"w-14 h-14 mb-7 rounded-full"}),(0,f.jsxs)("h2",{className:"font-semibold text-2xl text-gray-800 dark:text-gray-200 mb-2",children:[e("enter")," ",s," "]}),(0,f.jsx)("span",{className:"text-center text-gray-500 mb-6",children:e("placeholder_email")})]}),(0,f.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j(y)},className:"flex flex-col gap-5 w-[360px]",children:[(0,f.jsx)(m.Z,{type:"email",className:"large",name:"email",autoFocus:!0,value:y,required:!0,placeholder:e("placeholder_email"),onChange:e=>{const{value:s}=e.target;w(s)}}),(0,f.jsx)(x.Z,{type:"submit",disabled:k||!y,children:k?"Sending":e("continue")})]}),(0,f.jsx)(d.Z,{content:"OR"}),(0,f.jsx)(x.Z,{onClick:()=>{N("/login")},className:"w-full",children:e("login.password")}),(0,f.jsx)("div",{className:"flex flex-col gap-3 py-3 empty:hidden",children:(0,f.jsx)(h.Z,{})}),(0,f.jsx)(u.Z,{})]})})})}}}]);