"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[525],{28595:(e,t,s)=>{s.d(t,{Z:()=>c});var a,l=s(70537);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i.apply(this,arguments)}const r=(e,t)=>{let{title:s,titleId:r,...c}=e;return l.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#78787C",ref:t,"aria-labelledby":r},c),s?l.createElement("title",{id:r},s):null,a||(a=l.createElement("path",{d:"M12.75 4.125C12.75 3.50368 12.2463 3 11.625 3C11.0037 3 10.5 3.50368 10.5 4.125V10.5H4.125C3.50368 10.5 3 11.0037 3 11.625C3 12.2463 3.50368 12.75 4.125 12.75H10.5V19.125C10.5 19.7463 11.0037 20.25 11.625 20.25C12.2463 20.25 12.75 19.7463 12.75 19.125V12.75H19.125C19.7463 12.75 20.25 12.2463 20.25 11.625C20.25 11.0037 19.7463 10.5 19.125 10.5H12.75V4.125Z"})))},c=(0,l.forwardRef)(r)},48055:(e,t,s)=>{s.d(t,{Z:()=>c});var a,l=s(70537);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i.apply(this,arguments)}const r=(e,t)=>{let{title:s,titleId:r,...c}=e;return l.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",stroke:"#344054",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),s?l.createElement("title",{id:r},s):null,a||(a=l.createElement("path",{d:"M5 7.5L10 12.5L15 7.5",strokeWidth:1.67,strokeLinecap:"round",strokeLinejoin:"round"})))},c=(0,l.forwardRef)(r)},24041:(e,t,s)=>{s.d(t,{Z:()=>c});var a,l=s(70537);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i.apply(this,arguments)}const r=(e,t)=>{let{title:s,titleId:r,...c}=e;return l.createElement("svg",i({width:16,height:16,viewBox:"0 0 16 16",fill:"#6C737F",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),s?l.createElement("title",{id:r},s):null,a||(a=l.createElement("path",{d:"M8.11904 0C3.91105 0 0.5 3.41105 0.5 7.61905C0.5 11.827 3.91105 15.2381 8.11904 15.2381C12.3271 15.2381 15.7381 11.827 15.7381 7.61905C15.7381 3.41105 12.3263 0 8.11904 0ZM11.7053 10.128L10.628 11.2053L8.11904 8.69714L5.61009 11.2053L4.53277 10.128L7.04095 7.61905L4.532 5.1101L5.60934 4.03353L8.11829 6.54248L10.6272 4.03353L11.7045 5.1101L9.19638 7.61905L11.7053 10.128Z"})))},c=(0,l.forwardRef)(r)},75208:(e,t,s)=>{s.d(t,{Z:()=>c});var a,l=s(70537);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i.apply(this,arguments)}const r=(e,t)=>{let{title:s,titleId:r,...c}=e;return l.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),s?l.createElement("title",{id:r},s):null,a||(a=l.createElement("path",{d:"M6 4C6 2.89543 6.89543 2 8 2H14C15.1046 2 16 2.89543 16 4V14C16 15.1046 15.1046 16 14 16H8C6.89543 16 6 15.1046 6 14V4ZM4 6.00001C4 5.25973 4.4022 4.61339 5 4.26758V14.5C5 15.8807 6.11929 17 7.5 17H13.7324C13.3866 17.5978 12.7403 18 12 18H7.5C5.567 18 4 16.433 4 14.5V6.00001Z"})))},c=(0,l.forwardRef)(r)},9925:(e,t,s)=>{s.d(t,{Z:()=>c});var a,l=s(70537);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i.apply(this,arguments)}const r=(e,t)=>{let{title:s,titleId:r,...c}=e;return l.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),s?l.createElement("title",{id:r},s):null,a||(a=l.createElement("path",{d:"M12 3.25C13.4346 3.25 14.6126 4.34848 14.7388 5.75019L19 5.75C19.4142 5.75 19.75 6.08579 19.75 6.5C19.75 6.8797 19.4678 7.19349 19.1018 7.24315L19 7.25H18.417L17.1499 18.2292C17.0335 19.2384 16.179 20 15.1631 20H8.83688C7.821 20 6.9665 19.2384 6.85006 18.2292L5.582 7.25H5C4.6203 7.25 4.30651 6.96785 4.25685 6.60177L4.25 6.5C4.25 6.1203 4.53215 5.80651 4.89823 5.75685L5 5.75L9.26119 5.75019C9.38741 4.34848 10.5654 3.25 12 3.25ZM10.5 9.5C10.2545 9.5 10.0504 9.65477 10.0081 9.85886L10 9.9375V16.0625L10.0081 16.1411C10.0504 16.3452 10.2545 16.5 10.5 16.5C10.7455 16.5 10.9496 16.3452 10.9919 16.1411L11 16.0625V9.9375L10.9919 9.85886C10.9496 9.65477 10.7455 9.5 10.5 9.5ZM13.5 9.5C13.2545 9.5 13.0504 9.65477 13.0081 9.85886L13 9.9375V16.0625L13.0081 16.1411C13.0504 16.3452 13.2545 16.5 13.5 16.5C13.7455 16.5 13.9496 16.3452 13.9919 16.1411L14 16.0625V9.9375L13.9919 9.85886C13.9496 9.65477 13.7455 9.5 13.5 9.5ZM12 4.75C11.3952 4.75 10.8908 5.17947 10.775 5.75005H13.225C13.1092 5.17947 12.6048 4.75 12 4.75Z",fill:"#D92D20"})))},c=(0,l.forwardRef)(r)},28533:(e,t,s)=>{s.d(t,{Z:()=>c});var a,l=s(70537);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i.apply(this,arguments)}const r=(e,t)=>{let{title:s,titleId:r,...c}=e;return l.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),s?l.createElement("title",{id:r},s):null,a||(a=l.createElement("path",{d:"M13.7036 5.75927L18.2405 10.2962L9.33146 19.2052C9.08325 19.4534 8.77457 19.6325 8.43593 19.7249L3.84998 20.9756C3.34808 21.1124 2.88755 20.6519 3.02443 20.15L4.27515 15.5641C4.3675 15.2254 4.54664 14.9167 4.79484 14.6685L13.7036 5.75927ZM20.0604 3.93956C21.3132 5.19232 21.3132 7.22343 20.0604 8.47618L19.1907 9.34506L14.6538 4.80903L15.5238 3.93956C16.7766 2.68681 18.8077 2.68681 20.0604 3.93956Z"})))},c=(0,l.forwardRef)(r)},94557:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(14566),l=s(21812),i=s(66160),r=s(80683);const c=e=>{let{empty:t=!1,version:s,children:c}=e;const{t:n}=(0,a.$G)(),d=(0,i.CG)((e=>e.server.version));if(!d)return null;return(0,l.yC)(d,s)<0?t?null:(0,r.jsxs)("div",{className:"flex flex-col gap-2 items-start border border-solid border-orange-500 p-3 rounded-lg w-fit",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:(0,r.jsx)(a.cC,{i18nKey:"server_update.version_needed",children:(0,r.jsx)("strong",{className:"font-bold",children:{version:s}})})}),(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:(0,r.jsx)(a.cC,{i18nKey:"server_update.current_version",children:(0,r.jsx)("strong",{className:"font-bold",children:{version:d}})})}),(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:n("server_update.update_tip")}),(0,r.jsxs)("a",{className:"text-blue-500 underline",href:"https://doc.voce.chat/install/install-by-docker#update-vocechat-docker",target:"_blank",rel:"noopener noreferrer",children:[n("server_update.howto"),"  \ud83d\udcd6 "]})]}):c}},24645:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(80683);function l(e){const{className:t}=e;return(0,a.jsx)("input",{readOnly:!0,...e,type:"checkbox",className:`checkbox w-5 h-5 rounded-md border border-solid border-slate-300 checked:border-primary-400 disabled:opacity-40 ${t}`})}},9975:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(57425),l=s(80683);const i=e=>{const{checked:t=!0,disabled:s=!1}=e;return(0,l.jsx)("div",{...e,className:(0,a.Z)("cursor-pointer relative w-11 h-6  rounded-xl",t?"bg-primary-400":"bg-gray-300",s&&"cursor-not-allowed bg-gray-400 pointer-events-none"),children:(0,l.jsx)("div",{className:(0,a.Z)("rounded-full bg-white w-5 h-5 absolute top-0.5 right-0.5 transition-all",!t&&"-translate-x-full")})})}},42712:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(70537),l=s(65809);function i(){const[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(),{data:r}=(0,l.R)(void 0,{refetchOnMountOrArgChange:!0}),[c,{isSuccess:n}]=(0,l.Ku)();(0,a.useEffect)((()=>{r&&i(r)}),[r]),(0,a.useEffect)((()=>{t(!n&&JSON.stringify(r)!==JSON.stringify(s))}),[r,s,n]);return{config:s,changed:e,updateGithubAuthConfig:e=>{i((t=>t?{...t,...e}:e))},updateGithubAuthConfigToServer:async()=>{s&&await c(s)},isSuccess:n}}},25089:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(70537),l=s(65809);function i(){const[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),{data:r}=(0,l.eM)(void 0,{refetchOnMountOrArgChange:!0}),[c,{isSuccess:n}]=(0,l.Vr)();(0,a.useEffect)((()=>{r&&i(r.client_id)}),[r]),(0,a.useEffect)((()=>{t(!n&&(null===r||void 0===r?void 0:r.client_id)!==s)}),[r,s,n]);return{config:r,changed:e,clientId:s,updateClientId:i,updateClientIdToServer:async()=>{s&&await c({client_id:s})},updateGoogleAuthConfig:c,isSuccess:n}}},51892:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(70537),l=s(65809),i=s(66160);const r=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{userCount:s,isGuest:r,upgraded:c}=(0,i.CG)((e=>({userCount:e.users.ids.length,isGuest:e.authData.guest,upgraded:e.server.upgraded}))),{data:n,refetch:d,isLoading:o}=(0,l.qM)(void 0,{refetchOnMountOrArgChange:t,skip:r}),[u,{isLoading:x,isSuccess:j}]=(0,l.U_)(),[M,{isSuccess:m,isLoading:g,reset:N}]=(0,l.yn)();(0,a.useEffect)((()=>{m&&(d(),N())}),[m]);return{upgraded:c,reachLimit:s>=(null!==(e=null===n||void 0===n?void 0:n.user_limit)&&void 0!==e?e:Number.MAX_SAFE_INTEGER),license:n,checked:j,isLoading:o,checking:x,upserting:g,upserted:m,checkLicense:e=>{u(e)},upsertLicense:async e=>{const t=await u(e);return!(!("data"in t)||!t.data.sign)&&await M(e)}}}},13997:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>MyAccount});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(70537),react_hot_toast__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27418),_app_services_user__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(52334),_common_component_AvatarUploader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(95727),_common_component_styled_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69885),_ProfileBasicEditModal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(38593),_RemoveAccountConfirmModal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84213),_UpdatePasswordModal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(63401),_app_store__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(66160),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(14566),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(80683);function MyAccount(){const{t:t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.$G)("member"),{t:ct}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.$G)(),[passwordModal,setPasswordModal]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[editModal,setEditModal]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[removeConfirmVisible,setRemoveConfirmVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[uploadAvatar,{isSuccess:uploadSuccess}]=(0,_app_services_user__WEBPACK_IMPORTED_MODULE_2__.C0)(),EditModalInfo={name:{label:t("username"),title:t("change_name"),intro:t("change_name_desc")},email:{label:t("email"),title:t("change_email"),intro:t("change_email_desc")}},loginUser=(0,_app_store__WEBPACK_IMPORTED_MODULE_8__.CG)((e=>{var t;return e.users.byId[(null===(t=e.authData.user)||void 0===t?void 0:t.uid)||0]}));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{uploadSuccess&&react_hot_toast__WEBPACK_IMPORTED_MODULE_1__.ZP.success(ct("tip.update"))}),[uploadSuccess]);const handleBasicEdit=e=>{const{edit:t}=e.currentTarget.dataset;setEditModal(t)},closeBasicEditModal=()=>{setEditModal("")},togglePasswordModal=()=>{setPasswordModal((e=>!e))},toggleRemoveAccountModalVisible=()=>{setRemoveConfirmVisible((e=>!e))};if(!loginUser)return null;const{uid:uid,avatar:avatar,name:name,email:email}=loginUser;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col items-start gap-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"md:p-6 flex flex-col items-center w-full md:w-[512px] md:bg-gray-100 md:dark:bg-gray-800 md:rounded-2xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_component_AvatarUploader__WEBPACK_IMPORTED_MODULE_3__.Z,{url:avatar,name:name,uploadImage:uploadAvatar}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"mt-2 mb-16 font-bold text-lg text-gray-800 dark:text-white",children:[name," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{className:"font-normal text-gray-500",children:["#",uid]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"w-full flex items-start justify-between mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col text-gray-500 dark:text-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-xs uppercase  font-semibold",children:t("username")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{className:"text-sm ",children:[name," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[" #",uid]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_component_styled_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{"data-edit":"name",onClick:handleBasicEdit,className:"",children:ct("action.edit")})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"w-full flex items-start justify-between mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col text-gray-500 dark:text-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-xs uppercase  font-semibold",children:t("email")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-sm",children:email})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_component_styled_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{"data-edit":"email",onClick:handleBasicEdit,children:ct("action.edit")})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"w-full flex items-start justify-between mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col text-gray-500 dark:text-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-xs uppercase  font-semibold",children:t("password")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-sm",children:"*********"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_component_styled_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{onClick:togglePasswordModal,children:ct("action.edit")})]})]}),1!=uid&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_common_component_styled_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{className:"danger",onClick:toggleRemoveAccountModalVisible,children:t("delete_account")})]}),editModal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_ProfileBasicEditModal__WEBPACK_IMPORTED_MODULE_5__.Z,{type:"email"==editModal?"email":"text",valueKey:editModal,...EditModalInfo[editModal],value:eval(editModal),closeModal:closeBasicEditModal}),passwordModal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_UpdatePasswordModal__WEBPACK_IMPORTED_MODULE_7__.Z,{closeModal:togglePasswordModal}),removeConfirmVisible&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_RemoveAccountConfirmModal__WEBPACK_IMPORTED_MODULE_6__.Z,{closeModal:toggleRemoveAccountModalVisible})]})}},38593:(e,t,s)=>{s.d(t,{Z:()=>x});var a=s(70537),l=s(27418),i=s(17237),r=s(52334),c=s(40698),n=s(69885),d=s(80874),o=s(14566),u=s(80683);const x=e=>{let{label:t="Username",valueKey:s="name",value:x="",type:j="text",title:M="Change your username",intro:m="Enter a new username and your existing password.",closeModal:g}=e;const N=(0,a.useRef)(null),{t:h}=(0,o.$G)(),[p,_]=(0,a.useState)(x),[D,{isLoading:y,isSuccess:w}]=(0,r.g$)();return(0,a.useEffect)((()=>{w&&(l.ZP.success(h("tip.update")),g())}),[w]),(0,u.jsx)(d.Z,{id:"modal-modal",children:(0,u.jsx)(c.Z,{title:M,description:m,buttons:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.Z,{className:"cancel",onClick:g,children:h("action.cancel")}),(0,u.jsx)(n.Z,{onClick:()=>{if(!N||!N.current)return;const e=N.current;e.checkValidity()?D({[s]:p}):e.reportValidity()},children:y?"Updating":h("action.done")})]}),children:(0,u.jsxs)("form",{ref:N,className:"flex flex-col gap-2 w-full",action:"/",children:[(0,u.jsx)("label",{htmlFor:s,className:"text-sm text-left text-gray-500",children:t}),(0,u.jsx)(i.Z,{name:s,value:p,onChange:e=>{_(e.target.value)},type:j,required:!0})]})})})}},84213:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(27418),l=s(80874),i=s(40698),r=s(69885),c=s(15312),n=s(14566),d=s(80683);const o=e=>{let{closeModal:t}=e;const{t:s}=(0,n.$G)("member"),[o,{isLoading:u}]=(0,c.O2)();return(0,d.jsx)(l.Z,{id:"modal-modal",children:(0,d.jsx)(i.Z,{title:s("remove_account"),description:s("remove_account_desc"),buttons:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Z,{onClick:t,children:s("action.cancel",{ns:"common"})}),(0,d.jsx)(r.Z,{disabled:u,onClick:async()=>{try{await o()}catch(e){a.ZP.error("Remove Account Failed!")}},className:"danger",children:s("remove")})]})})})}},63401:(e,t,s)=>{s.d(t,{Z:()=>x});var a=s(70537),l=s(27418),i=s(17237),r=s(15312),c=s(40698),n=s(69885),d=s(80874),o=s(14566),u=s(80683);const x=e=>{let{closeModal:t}=e;const{t:s}=(0,o.$G)("member"),{t:x}=(0,o.$G)(),{data:j}=(0,r.I1)(),[M,m]=(0,a.useState)({current:"",newPassword:"",confirmPassword:""}),[g,{isLoading:N,isSuccess:h}]=(0,r.a3)(),p=e=>{const{type:t}=e.target.dataset;m((s=>({...s,[t]:e.target.value})))};(0,a.useEffect)((()=>{h&&(l.ZP.success(x("tip.update")),t())}),[h]);const{current:_,newPassword:D,confirmPassword:y}=M,w=(null===j||void 0===j?void 0:j.password)&&!_||!D||!y||D!==y||N,v="my-4 w-full flex flex-col items-start gap-2",f="text-gray-400 font-semibold";return(0,u.jsx)(d.Z,{id:"modal-modal",children:(0,u.jsxs)(c.Z,{title:s("change_pwd"),description:s("change_pwd_desc"),buttons:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.Z,{className:"cancel",onClick:t,children:s("action.cancel",{ns:"common"})}),(0,u.jsx)(n.Z,{disabled:w,onClick:()=>{const{current:e,newPassword:t}=M;g({old_password:e,new_password:t})},children:N?"Updating":s("action.update",{ns:"common"})})]}),children:[(null===j||void 0===j?void 0:j.password)&&(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)("label",{className:f,htmlFor:"current",children:s("current_pwd")}),(0,u.jsx)(i.Z,{type:"password",id:"current",name:"current",value:_,"data-type":"current",onChange:p})]}),(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)("label",{className:f,htmlFor:"newPassword",children:s("new_pwd")}),(0,u.jsx)(i.Z,{type:"password",name:"newPassword",value:D,"data-type":"newPassword",onChange:p})]}),(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)("label",{className:f,htmlFor:"confirmPassword",children:s("confirm_new_pwd")}),(0,u.jsx)(i.Z,{onBlur:()=>{const{newPassword:e,confirmPassword:t}=M;e!==t&&l.ZP.error("Not same with new password")},type:"password",name:"confirmPassword",value:y,"data-type":"confirmPassword",onChange:p})]})]})})}},19742:(e,t,s)=>{s.r(t),s.d(t,{default:()=>et});var a=s(70537),l=s(64084),i=s(15924),r=s(90442),c=s(14566),n=s(13997),d=s(15621),o=s(66160),u=s(27418),x=s(38289),j=s(65809);let M;function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smtp";const{t:t}=(0,c.$G)(),[s,l]=(0,a.useState)(!1),[i,r]=(0,a.useState)(void 0),[n,{isSuccess:d,isLoading:o}]=(0,j.QP)(),[m,{isSuccess:g,isLoading:N}]=(0,j.WO)(),[h,{isSuccess:p,isLoading:_}]=(0,j.vF)(),[D,{isSuccess:y,isLoading:w}]=(0,j.FV)(),[v,{data:f}]=(0,j.bx)(),[I,{data:T}]=(0,j.kv)(),[b,{data:L}]=(0,j.rW)(),[k,{data:E}]=(0,j.Ke)(),O={login:n,smtp:m,agora:h,firebase:D}[e],C={smtp:b,agora:v,firebase:k,login:I}[e],z={login:d,smtp:g,agora:p,firebase:y}[e],A={login:o,smtp:N,agora:_,firebase:w}[e];return(0,a.useEffect)((()=>{C()}),[]),(0,a.useEffect)((()=>{z&&(u.ZP.success(t("tip.update")),C())}),[z]),(0,a.useEffect)((()=>{const e=L||E||T||f;e&&(M=e,r(e))}),[L,E,T,f]),(0,a.useEffect)((()=>{i&&0!=Object.keys(i).length&&((0,x.isEqual)(M,i)?l(!1):l(!0))}),[i]),{updating:A,updated:z,reset:()=>{r(void 0)},changed:s,updateConfig:O,agoraConfig:f,values:i,setValues:r,toggleEnable:()=>{r((e=>e&&"enabled"in e?{...e,enabled:!e.enabled}:e))}}}var g=s(95727),N=s(17237),h=s(48540),p=s(64884),_=s(24563),D=s(80683);const y=()=>{const{t:e}=(0,c.$G)("setting"),{t:t}=(0,c.$G)(),{loginUser:s,server:l}=(0,o.CG)((e=>({loginUser:e.authData.user,server:e.server}))),[i,{isSuccess:r}]=(0,j.jd)(),[n]=(0,j.e2)(),[d,x]=(0,a.useState)(!1),[M,m]=(0,a.useState)(l),y=e=>{const t=e.target.value,{type:s=""}=e.target.dataset;m((e=>({...e,[s]:t})))};(0,a.useEffect)((()=>{l&&m(l)}),[l]),(0,a.useEffect)((()=>{r&&u.ZP.success(t("tip.update"))}),[r]),(0,a.useEffect)((()=>{if(l&&M){const{name:e,description:t}=M,{name:s,description:a}=l;x(s!==e||a!==t)}}),[l,M]);const{name:w,description:v,logo:f}=M,I=null===s||void 0===s?void 0:s.is_admin;return s&&M?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"flex gap-4",children:[(0,D.jsx)("div",{className:"w-24 h-24",children:(0,D.jsx)(g.Z,{disabled:!I,url:r?`${f}?t=${+new Date}`:f,name:w,uploadImage:i})}),I&&(0,D.jsx)("div",{className:"flex flex-col justify-between items-start",children:(0,D.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-100",children:e("overview.upload_desc")})})]}),(0,D.jsxs)("div",{className:"flex flex-col items-start gap-6 mb-3",children:[(0,D.jsxs)("div",{className:"w-full flex flex-col items-start gap-2",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-100",htmlFor:"name",children:e("overview.name")}),(0,D.jsx)(N.Z,{disabled:!I,"data-type":"name",onChange:y,value:w,name:"name",id:"name",placeholder:"Server Name"})]}),(0,D.jsxs)("div",{className:"w-full flex flex-col items-start gap-2",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-100",htmlFor:"desc",children:e("overview.desc")}),(0,D.jsx)(p.Z,{disabled:!I,"data-type":"description",onChange:y,value:null!==v&&void 0!==v?v:"",rows:4,name:"name",id:"name",placeholder:"Tell the world a bit about this server"})]})]}),d&&(0,D.jsx)(_.Z,{saveHandler:()=>{const{name:e,description:t}=M;n({name:e,description:t})},resetHandler:()=>{m(l)}})]}):null},w=e=>{let{title:t,desc:s,children:a}=e;return(0,D.jsxs)("div",{className:"text-sm",children:[(0,D.jsx)("p",{className:"text-gray-600 dark:text-gray-100 font-semibold",children:t}),(0,D.jsx)("p",{className:"flex justify-between w-full text-gray-400 mb-2 text-xs",children:s}),a]})},v=()=>{const{t:e,i18n:t}=(0,c.$G)("setting");return(0,D.jsx)(w,{title:e("overview.lang.title"),desc:e("overview.lang.desc"),children:(0,D.jsx)(d.Z,{options:[e("overview.lang.en"),e("overview.lang.zh"),e("overview.lang.jp"),e("overview.lang.tr")],values:["en","zh","jp","tr"],value:t.language.split("-")[0],onChange:e=>{(e=>{t.changeLanguage(e)})(e)}})})};var f=s(69885);const I=()=>{const{data:e,isSuccess:t}=(0,j.wH)(),[s,l]=(0,a.useState)(location.origin),{t:i}=(0,c.$G)("setting"),{t:r}=(0,c.$G)(),[n,{isLoading:d,isSuccess:o}]=(0,j.UT)();return(0,a.useEffect)((()=>{o&&u.Am.success(r("tip.update"))}),[o]),(0,a.useEffect)((()=>{t&&e&&l(e)}),[t,e]),(0,D.jsx)(w,{title:i("overview.url.title"),desc:i("overview.url.desc"),children:(0,D.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,D.jsx)(N.Z,{placeholder:"frontend url",value:s,onChange:e=>{l(e.target.value)}}),(0,D.jsxs)(f.Z,{disabled:!s||d,className:"",onClick:()=>{n(s)},children:[" ",r("action.update")]})]})})},T=()=>{const[e,t]=(0,a.useState)(localStorage.theme||"auto"),{t:s}=(0,c.$G)("setting");return(0,D.jsx)(w,{title:s("overview.theme.title"),desc:s("overview.theme.desc"),children:(0,D.jsx)(d.Z,{options:[s("overview.theme.auto"),s("overview.theme.dark"),s("overview.theme.light")],values:["auto","dark","light"],value:e,onChange:e=>{(e=>{if(t(e),localStorage.theme=e,document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("light"),"auto"!==e)document.documentElement.classList.add(e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.add(e?"dark":"light")}})(e)}})})};var b=s(94557);const L=()=>{const e=(0,o.CG)((e=>!!e.server.show_user_online_status)),{t:t}=(0,c.$G)("setting",{keyPrefix:"overview.online_status"}),{t:s}=(0,c.$G)(),{refetch:l}=(0,j.MA)(),[i,{isSuccess:r}]=(0,j.tF)();(0,a.useEffect)((()=>{r&&(l(),u.Am.success(s("tip.update")))}),[r]);return(0,D.jsx)(w,{title:t("title"),desc:t("desc"),children:(0,D.jsx)(d.Z,{options:[t("enable"),t("disable")],values:["true","false"],value:`${e}`,onChange:()=>{i({show_user_online_status:!e})}})})},k=()=>{const e=(0,o.CG)((e=>{var t;return null!==(t=e.server.chat_layout_mode)&&void 0!==t?t:"Left"})),{t:t}=(0,c.$G)("setting",{keyPrefix:"overview.chat_layout"}),{t:s}=(0,c.$G)(),{refetch:l}=(0,j.MA)(),[i,{isSuccess:r}]=(0,j.tF)();(0,a.useEffect)((()=>{r&&(l(),u.Am.success(s("tip.update")))}),[r]);return(0,D.jsx)(w,{title:t("title"),desc:t("desc"),children:(0,D.jsx)(d.Z,{options:[t("left"),t("self_right")],values:["Left","SelfRight"],value:e,onChange:e=>{i({chat_layout_mode:e})}})})},E=()=>{const e=(0,o.CG)((e=>!!e.server.contact_verification_enable)),{t:t}=(0,c.$G)("setting",{keyPrefix:"overview.contact_verify"}),{t:s}=(0,c.$G)(),{refetch:l}=(0,j.MA)(),[i,{isSuccess:r}]=(0,j.tF)();(0,a.useEffect)((()=>{r&&(l(),u.Am.success(s("tip.update")))}),[r]);return(0,D.jsx)(w,{title:t("title"),desc:t("desc"),children:(0,D.jsx)(d.Z,{options:[t("enable"),t("disable")],values:["true","false"],value:`${e}`,onChange:()=>{i({contact_verification_enable:!e})}})})};function O(){const{t:e}=(0,c.$G)("setting"),{loginUser:t}=(0,o.CG)((e=>({loginUser:e.authData.user}))),{values:s,updateConfig:a}=m("login");if(!s)return null;const{who_can_sign_up:l,guest:i=!1}=s,r=null===t||void 0===t?void 0:t.is_admin;return(0,D.jsxs)("div",{className:"relative w-full md:w-[512px] flex flex-col gap-6",children:[(0,D.jsx)(y,{}),r&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"flex flex-col",children:[(0,D.jsx)("h4",{className:"font-bold text-gray-700 dark:text-white",children:e("overview.title_feat")}),(0,D.jsx)("p",{className:"text-gray-400 text-xs",children:e("overview.title_feat_desc")})]}),(0,D.jsx)(w,{title:e("overview.sign_up.title"),desc:e("overview.sign_up.desc"),children:(0,D.jsx)(d.Z,{options:[e("overview.sign_up.everyone"),e("overview.sign_up.invite")],values:["EveryOne","InvitationOnly"],value:l,onChange:e=>{var t;t=e,a({...s,who_can_sign_up:t})}})}),(0,D.jsx)(w,{title:e("overview.guest_mode.title"),desc:e("overview.guest_mode.desc"),children:(0,D.jsx)(d.Z,{options:[e("overview.guest_mode.enable"),e("overview.guest_mode.disable")],values:["true","false"],value:`${i}`,onChange:e=>{(e=>{const t="true"===e;a({...s,guest:t})})(e)}})}),(0,D.jsx)(b.Z,{version:"0.3.4",empty:!0,children:(0,D.jsx)(L,{})}),(0,D.jsx)(b.Z,{version:"0.3.7",empty:!0,children:(0,D.jsx)(k,{})}),(0,D.jsx)(b.Z,{version:"0.3.7",empty:!0,children:(0,D.jsx)(E,{})}),(0,D.jsx)(b.Z,{version:"0.3.3",empty:!0,children:(0,D.jsx)(I,{})})]}),(0,D.jsx)(v,{}),(0,D.jsx)(T,{})]})}var C=s(9975),z=s(7829),A=s(69195),Z=(s(25515),s(19042));const S=e=>{let{to:t,children:s}=e;return(0,D.jsx)("a",{href:t,className:"text-primary-500",target:"_blank",rel:"noreferrer",children:s})};function U(e){let{link:t="#"}=e;return(0,D.jsx)(z.ZP,{delay:[0,500],interactive:!0,arrow:A.ki,placement:"bottom",content:(0,D.jsx)("div",{className:"py-2 px-3 bg-gray-800 text-xs text-white rounded-lg",children:(0,D.jsx)(c.cC,{ns:"setting",i18nKey:"login.more_details",children:(0,D.jsx)(S,{to:t})})}),children:(0,D.jsx)(Z.Z,{className:"icon"})})}var P=s(18697),Y=s(48055);const Q=e=>{var t;let{options:s=[],updateSelect:l=null,current:i=null}=e;const{t:r}=(0,c.$G)(),[n,d]=(0,a.useState)(!1),[o,u]=(0,a.useState)(null),x=()=>{d((e=>!e))},j=e=>{u(e),x(),l&&l(e)};return(0,D.jsx)(z.ZP,{visible:n,appendTo:document.body,placement:"bottom",interactive:!0,content:(0,D.jsx)("ul",{className:"context-menu",children:s.map((e=>{let{title:t,value:s,selected:a,underline:l}=e;return(0,D.jsxs)("li",{onClick:a?void 0:j.bind(null,{title:t,value:s}),className:"item sb "+(l?"bottom_line":""),"data-disabled":a,children:[t,a&&(0,D.jsx)(P.Z,{className:"icon"})]},s)}))}),children:(0,D.jsxs)("div",{className:"select-none border border-solid border-slate-200 p-2 flex items-center gap-2",onClick:x,children:[(0,D.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-200 min-w-[76px]",children:(null===(t=null!==i?i:o)||void 0===t?void 0:t.title)||r("action.select")}),(0,D.jsx)(Y.Z,{className:"!w-5 !h-5"})]})})},G=JSON.parse('[{"title":"Google","value":"accounts.google.com","selected":false,"icon":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE1OTA1XzI0Njk1KSI+CjxwYXRoIGQ9Ik0yMy43NjYgMTIuMjc2M0MyMy43NjYgMTEuNDYwNSAyMy42OTk5IDEwLjY0MDQgMjMuNTU4OCA5LjgzNzg5SDEyLjI0VjE0LjQ1ODlIMTguNzIxN0MxOC40NTI4IDE1Ljk0OTIgMTcuNTg4NSAxNy4yNjc2IDE2LjMyMyAxOC4xMDU0VjIxLjEwMzdIMjAuMTlDMjIuNDYwOCAxOS4wMTM3IDIzLjc2NiAxNS45MjcyIDIzLjc2NiAxMi4yNzYzWiIgZmlsbD0iIzQyODVGNCIvPgo8cGF0aCBkPSJNMTIuMjQwMSAyNC4wMDEzQzE1LjQ3NjYgMjQuMDAxMyAxOC4yMDU5IDIyLjkzODcgMjAuMTk0NSAyMS4xMDQ0TDE2LjMyNzYgMTguMTA2QzE1LjI1MTcgMTguODM4IDEzLjg2MjcgMTkuMjUyNSAxMi4yNDQ1IDE5LjI1MjVDOS4xMTM4OCAxOS4yNTI1IDYuNDU5NDYgMTcuMTQwNCA1LjUwNzA1IDE0LjMwMDhIMS41MTY2VjE3LjM5MTdDMy41NTM3MSAyMS40NDM5IDcuNzAyOSAyNC4wMDEzIDEyLjI0MDEgMjQuMDAxM1oiIGZpbGw9IiMzNEE4NTMiLz4KPHBhdGggZD0iTTUuNTAyNTMgMTQuMzAwN0M0Ljk5OTg3IDEyLjgxMDMgNC45OTk4NyAxMS4xOTY1IDUuNTAyNTMgOS43MDYxOFY2LjYxNTIzSDEuNTE2NDlDLTAuMTg1NTEgMTAuMDA2IC0wLjE4NTUxIDE0LjAwMDkgMS41MTY0OSAxNy4zOTE2TDUuNTAyNTMgMTQuMzAwN1oiIGZpbGw9IiNGQkJDMDQiLz4KPHBhdGggZD0iTTEyLjI0MDEgNC43NDk2NkMxMy45NTA5IDQuNzIzMiAxNS42MDQ0IDUuMzY2OTcgMTYuODQzNCA2LjU0ODY3TDIwLjI2OTUgMy4xMjI2MkMxOC4xMDAxIDEuMDg1NSAxNS4yMjA4IC0wLjAzNDQ2NiAxMi4yNDAxIDAuMDAwODA4NjY2QzcuNzAyOSAwLjAwMDgwODY2NiAzLjU1MzcxIDIuNTU4MjIgMS41MTY2IDYuNjE0ODFMNS41MDI2NCA5LjcwNTc1QzYuNDUwNjQgNi44NjE3MyA5LjEwOTQ3IDQuNzQ5NjYgMTIuMjQwMSA0Ljc0OTY2WiIgZmlsbD0iI0VBNDMzNSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzE1OTA1XzI0Njk1Ij4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},{"title":"Facebook","value":"www.facebook.com","selected":false,"icon":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMiAxNkMzMiA3LjE2NDEzIDI0LjgzNTggMCAxNiAwQzcuMTY0MTMgMCAwIDcuMTY0MTMgMCAxNkMwIDIzLjk4NTMgNS44NTAxNiAzMC42MDQ5IDEzLjUwMDIgMzEuODA2N1YyMC42MjYxSDkuNDM2NjRWMTZIMTMuNTAwMlYxMi40NzQyQzEzLjUwMDIgOC40NjQ1NiAxNS44ODk4IDYuMjQ4MjkgMTkuNTQzOCA2LjI0ODI5QzIxLjI5NDMgNi4yNDgyOSAyMy4xMjU4IDYuNTYxMDIgMjMuMTI1OCA2LjU2MTAyVjEwLjQ5ODZIMjEuMTA3NUMxOS4xMjA4IDEwLjQ5ODYgMTguNDk5OCAxMS43MzE3IDE4LjQ5OTggMTIuOTk4NFYxNS45OTk5SDIyLjkzNjdMMjIuMjI4IDIwLjYyNkgxOC40OTk2VjMxLjgwNjRDMjYuMTQ5OCAzMC42MDcxIDMxLjk5OTggMjMuOTg3NiAzMS45OTk4IDE1Ljk5OTlMMzIgMTZaIiBmaWxsPSIjMTk3N0YzIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjIuMjI4IDIwLjYyNkwyMi45MzY5IDE1Ljk5OTlIMTguNDk5OVYxMi45OTg0QzE4LjQ5OTkgMTEuNzMzOSAxOS4xMTg2IDEwLjQ5ODcgMjEuMTA3NyAxMC40OTg3SDIzLjEyNlY2LjU2MTA1QzIzLjEyNiA2LjU2MTA1IDIxLjI5NDUgNi4yNDgyOSAxOS41NDM5IDYuMjQ4MjlDMTUuODg5OSA2LjI0ODI5IDEzLjUwMDQgOC40NjIzOCAxMy41MDA0IDEyLjQ3NDJWMTZIOS40MzY3N1YyMC42MjYxSDEzLjUwMDRWMzEuODA2N0MxNC4zMTQ5IDMxLjkzNDcgMTUuMTQ5NiAzMiAxNi4wMDAxIDMyQzE2Ljg1MDcgMzIgMTcuNjg1NCAzMS45MzI1IDE4LjQ5OTkgMzEuODA2N1YyMC42MjYxSDIyLjIyODJMMjIuMjI4IDIwLjYyNloiIGZpbGw9IiNGRUZFRkUiLz4KPC9zdmc+Cg=="},{"title":"Gitlab","value":"www.gitlab.com","selected":false,"icon":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODAgMzgwIj4KPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xe2ZpbGw6I2UyNDMyOTt9LmNscy0ye2ZpbGw6I2ZjNmQyNjt9LmNscy0ze2ZpbGw6I2ZjYTMyNjt9PC9zdHlsZT4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJMT0dPIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yODIuODMsMTcwLjczbC0uMjctLjY5LTI2LjE0LTY4LjIyYTYuODEsNi44MSwwLDAsMC0yLjY5LTMuMjQsNyw3LDAsMCwwLTgsLjQzLDcsNywwLDAsMC0yLjMyLDMuNTJsLTE3LjY1LDU0SDE1NC4yOWwtMTcuNjUtNTRBNi44Niw2Ljg2LDAsMCwwLDEzNC4zMiw5OWE3LDcsMCwwLDAtOC0uNDMsNi44Nyw2Ljg3LDAsMCwwLTIuNjksMy4yNEw5Ny40NCwxNzBsLS4yNi42OWE0OC41NCw0OC41NCwwLDAsMCwxNi4xLDU2LjFsLjA5LjA3LjI0LjE3LDM5LjgyLDI5LjgyLDE5LjcsMTQuOTEsMTIsOS4wNmE4LjA3LDguMDcsMCwwLDAsOS43NiwwbDEyLTkuMDYsMTkuNy0xNC45MSw0MC4wNi0zMCwuMS0uMDhBNDguNTYsNDguNTYsMCwwLDAsMjgyLjgzLDE3MC43M1oiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0yODIuODMsMTcwLjczbC0uMjctLjY5YTg4LjMsODguMywwLDAsMC0zNS4xNSwxNS44TDE5MCwyMjkuMjVjMTkuNTUsMTQuNzksMzYuNTcsMjcuNjQsMzYuNTcsMjcuNjRsNDAuMDYtMzAsLjEtLjA4QTQ4LjU2LDQ4LjU2LDAsMCwwLDI4Mi44MywxNzAuNzNaIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTUzLjQzLDI1Ni44OWwxOS43LDE0LjkxLDEyLDkuMDZhOC4wNyw4LjA3LDAsMCwwLDkuNzYsMGwxMi05LjA2LDE5LjctMTQuOTFTMjA5LjU1LDI0NCwxOTAsMjI5LjI1QzE3MC40NSwyNDQsMTUzLjQzLDI1Ni44OSwxNTMuNDMsMjU2Ljg5WiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTEzMi41OCwxODUuODRBODguMTksODguMTksMCwwLDAsOTcuNDQsMTcwbC0uMjYuNjlhNDguNTQsNDguNTQsMCwwLDAsMTYuMSw1Ni4xbC4wOS4wNy4yNC4xNywzOS44MiwyOS44MnMxNy0xMi44NSwzNi41Ny0yNy42NFoiLz48L2c+PC9zdmc+"},{"title":"Paypal","value":"www.paypal.com","selected":false,"icon":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjI1NnB4IiBoZWlnaHQ9IjMwMnB4IiB2aWV3Qm94PSIwIDAgMjU2IDMwMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+Cgk8Zz4KCQk8cGF0aCBkPSJNMjE3LjE2ODQ3NiwyMy41MDcwMTQ2IEMyMDMuMjM0MDc3LDcuNjI0Nzk2NTEgMTc4LjA0NTYxMiwwLjgxNTc1MzMzOCAxNDUuODIzMzU1LDAuODE1NzUzMzM4IEw1Mi4zMDMwNjE5LDAuODE1NzUzMzM4IEM0NS43MTA0NDMxLDAuODE1NzUzMzM4IDQwLjEwODM4MTksNS42MTAzODUyIDM5LjA3NjIwNDIsMTIuMTExNDM5OSBMMC4xMzY0NjgzMDIsMjU5LjA3NjYwMSBDLTAuNjM3NjY0OTY4LDI2My45NDYxNDkgMy4xMzMxMTMyMiwyNjguMzU3ODc2IDguMDY5MjUzMzEsMjY4LjM1Nzg3NiBMNjUuODA0NjEyLDI2OC4zNTc4NzYgTDgwLjMwNTA0MzgsMTc2LjM4NTg0OSBMNzkuODU1NTQ3MSwxNzkuMjY1OTU4IEM4MC44ODc3MjQ4LDE3Mi43NjQ5MDMgODYuNDQ4MTY1OSwxNjcuOTcwMjcyIDkzLjAzMjQ2MDcsMTY3Ljk3MDI3MiBMMTIwLjQ2ODQxLDE2Ny45NzAyNzIgQzE3NC4zNjYzOTgsMTY3Ljk3MDI3MiAyMTYuNTY5MTQ3LDE0Ni4wNzgxMTYgMjI4Ljg5NzAxMiw4Mi43NDkwMTk3IEMyMjkuMjYzMjY4LDgwLjg3NjExNjcgMjI5LjU3OTU4MSw3OS4wNTMxNTc3IDIyOS44NTQyNzMsNzcuMjcxODE4OCBDMjI4LjI5NzY4Myw3Ni40NDc3NDE0IDIyOC4yOTc2ODMsNzYuNDQ3NzQxNCAyMjkuODU0MjczLDc3LjI3MTgxODggQzIzMy41MjUxNjMsNTMuODY0NjkyNCAyMjkuODI5MzAxLDM3LjkzMjUzMDIgMjE3LjE2ODQ3NiwyMy41MDcwMTQ2IiBmaWxsPSIjMjczNDZBIj48L3BhdGg+CgkJPHBhdGggZD0iTTEwMi4zOTY5NzYsNjguODM5NTkyOSBDMTAzLjkzNjkxOSw2OC4xMDcwNzk3IDEwNS42NTE2NjUsNjcuNjk5MjAzIDEwNy40NDk2NTIsNjcuNjk5MjAzIEwxODAuNzY3NTY1LDY3LjY5OTIwMyBDMTg5LjQ0OTUxMSw2Ny42OTkyMDMgMTk3LjU0ODc3Niw2OC4yNjUyMzYgMjA0Ljk0ODgyNCw2OS40NTU1Njk5IEMyMDcuMDcxNDQ4LDY5Ljc5Njg1NDUgMjA5LjEyNzQ3OSw3MC4xODgwODMxIDIxMS4xMjUyNDIsNzAuNjM3NTc5OSBDMjEzLjEyMzAwNiw3MS4wNzg3NTI2IDIxNS4wNjI1MDEsNzEuNTc4MTkzNCAyMTYuOTQzNzI4LDcyLjEyNzU3ODMgQzIxNy44ODQzNDEsNzIuNDAyMjcwOCAyMTguODA4MzA3LDcyLjY4NTI4NzIgMjE5LjcxNTYyNCw3Mi45ODQ5NTE3IEMyMjMuMzUzMjE4LDc0LjIwMDI1NzcgMjI2Ljc0MTA5Miw3NS42MTUzNCAyMjkuODU0MjczLDc3LjI3MTgxODggQzIzMy41MjUxNjMsNTMuODU2MzY4MyAyMjkuODI5MzAxLDM3LjkzMjUzMDIgMjE3LjE2ODQ3NiwyMy41MDcwMTQ2IEMyMDMuMjI1NzUzLDcuNjI0Nzk2NTEgMTc4LjA0NTYxMiwwLjgxNTc1MzMzOCAxNDUuODIzMzU1LDAuODE1NzUzMzM4IEw1Mi4yOTQ3Mzc5LDAuODE1NzUzMzM4IEM0NS43MTA0NDMxLDAuODE1NzUzMzM4IDQwLjEwODM4MTksNS42MTAzODUyIDM5LjA3NjIwNDIsMTIuMTExNDM5OSBMMC4xMzY0NjgzMDIsMjU5LjA2ODI3NyBDLTAuNjM3NjY0OTY4LDI2My45NDYxNDkgMy4xMzMxMTMyMiwyNjguMzQ5NTUyIDguMDYwOTI5MywyNjguMzQ5NTUyIEw2NS44MDQ2MTIsMjY4LjM0OTU1MiBMOTUuODg3NTk3NCw3Ny41Nzk4MDczIEM5Ni41MDM1NzQ0LDczLjY2NzUyMDggOTkuMDE3NDI2NSw3MC40NjI3NzU2IDEwMi4zOTY5NzYsNjguODM5NTkyOSBaIiBmaWxsPSIjMjczNDZBIj48L3BhdGg+CgkJPHBhdGggZD0iTTIyOC44OTcwMTIsODIuNzQ5MDE5NyBDMjE2LjU2OTE0NywxNDYuMDY5NzkyIDE3NC4zNjYzOTgsMTY3Ljk3MDI3MiAxMjAuNDY4NDEsMTY3Ljk3MDI3MiBMOTMuMDI0MTM2NywxNjcuOTcwMjcyIEM4Ni40Mzk4NDE5LDE2Ny45NzAyNzIgODAuODc5NDAwNywxNzIuNzY0OTAzIDc5Ljg1NTU0NzEsMTc5LjI2NTk1OCBMNjEuODE3NDA5NSwyOTMuNjIxMjU4IEM2MS4xNDMxNjQ0LDI5Ny44ODMxNTMgNjQuNDM5NDczOCwzMDEuNzQ1NDk1IDY4Ljc1MTMxMjksMzAxLjc0NTQ5NSBMMTE3LjQyMTgyMSwzMDEuNzQ1NDk1IEMxMjMuMTgyMDM4LDMwMS43NDU0OTUgMTI4LjA4NDg4MiwyOTcuNTUwMTkyIDEyOC45ODM4NzYsMjkxLjg2NDg5MSBMMTI5LjQ1ODM0NCwyODkuMzg0MzM1IEwxMzguNjMxNDA3LDIzMS4yNDk0MjMgTDEzOS4yMjI0MTIsMjI4LjAzNjM1NCBDMTQwLjEyMTQwNiwyMjIuMzUxMDUzIDE0NS4wMjQyNSwyMTguMTU1NzUgMTUwLjc4NDQ2NywyMTguMTU1NzUgTDE1OC4wNjc5NzksMjE4LjE1NTc1IEMyMDUuMjE1MTkzLDIxOC4xNTU3NSAyNDIuMTMyMTkzLDE5OS4wMDIxOTQgMjUyLjkyMDExNSwxNDMuNjA1ODg0IEMyNTcuNDIzNDA2LDEyMC40NTY4MDIgMjU1LjA5MjY4MywxMDEuMTI4NDQyIDI0My4xODEwMTksODcuNTUxOTc1NiBDMjM5LjU2ODM5Nyw4My40Mzk5MTI5IDIzNS4wODE3NTQsODAuMDQzNzE1MyAyMjkuODU0MjczLDc3LjI3MTgxODggQzIyOS41NzEyNTcsNzkuMDYxNDgxNyAyMjkuMjYzMjY4LDgwLjg3NjExNjcgMjI4Ljg5NzAxMiw4Mi43NDkwMTk3IEwyMjguODk3MDEyLDgyLjc0OTAxOTcgWiIgZmlsbD0iIzI3OTBDMyI+PC9wYXRoPgoJCTxwYXRoIGQ9Ik0yMTYuOTUyMDUyLDcyLjEyNzU3ODMgQzIxNS4wNzA4MjUsNzEuNTc4MTkzNCAyMTMuMTMxMzMsNzEuMDc4NzUyNiAyMTEuMTMzNTY2LDcwLjYzNzU3OTkgQzIwOS4xMzU4MDMsNzAuMTk2NDA3MSAyMDcuMDcxNDQ4LDY5LjgwNTE3ODUgMjA0Ljk1NzE0OCw2OS40NjM4OTM5IEMxOTcuNTQ4Nzc2LDY4LjI2NTIzNiAxODkuNDU3ODM1LDY3LjY5OTIwMyAxODAuNzY3NTY1LDY3LjY5OTIwMyBMMTA3LjQ1Nzk3Niw2Ny42OTkyMDMgQzEwNS42NTE2NjUsNjcuNjk5MjAzIDEwMy45MzY5MTksNjguMTA3MDc5NyAxMDIuNDA1Myw2OC44NDc5MTY5IEM5OS4wMTc0MjY1LDcwLjQ3MTA5OTYgOTYuNTExODk4NCw3My42Njc1MjA4IDk1Ljg5NTkyMTQsNzcuNTg4MTMxMyBMODAuMzEzMzY3OCwxNzYuMzg1ODQ5IEw3OS44NjM4NzExLDE3OS4yNjU5NTggQzgwLjg4NzcyNDgsMTcyLjc2NDkwMyA4Ni40NDgxNjU5LDE2Ny45NzAyNzIgOTMuMDMyNDYwNywxNjcuOTcwMjcyIEwxMjAuNDc2NzM0LDE2Ny45NzAyNzIgQzE3NC4zNzQ3MjIsMTY3Ljk3MDI3MiAyMTYuNTc3NDcxLDE0Ni4wNzgxMTYgMjI4LjkwNTMzNiw4Mi43NDkwMTk3IEMyMjkuMjcxNTkyLDgwLjg3NjExNjcgMjI5LjU3OTU4MSw3OS4wNjE0ODE3IDIyOS44NjI1OTcsNzcuMjcxODE4OCBDMjI2Ljc0MTA5Miw3NS42MjM2NjQgMjIzLjM2MTU0Miw3NC4yMDAyNTc3IDIxOS43MjM5NDgsNzIuOTkzMjc1NyBDMjE4LjgxNjYzMSw3Mi42OTM2MTEyIDIxNy44OTI2NjUsNzIuNDAyMjcwOCAyMTYuOTUyMDUyLDcyLjEyNzU3ODMiIGZpbGw9IiMxRjI2NEYiPjwvcGF0aD4KCTwvZz4KPC9zdmc+"},{"title":"SolidWeb","value":"solidweb.org","selected":false,"icon":"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjM1MiIgaGVpZ2h0PSIzMjIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgZmlsbC1ydWxlPSJub256ZXJvIiBmaWxsPSJub25lIj4KICAgIDxwYXRoIGQ9Ik04Ny45NzI5NiAyODIuMzUyN0wyNy4yNDEzMyAxNzcuMDIyMDdjLTUuNjIwNDEtOS43NTc2NS01LjYyMDQxLTIxLjc3OTA4IDAtMzEuNTM2NzRMODcuOTcyOTYgNDAuMjMyOGM1LjY0NjQzLTkuNzgzNjcgMTYuMDgwNjEtMTUuNzk0MzkgMjcuMzIxNDMtMTUuNzk0MzloMTIxLjM4NTJjMTEuMjY2ODQgMCAyMS43MjcwNCA2LjAxMDcyIDI3LjMyMTQzIDE1Ljc5NDRsNjAuNzU3NjUgMTA1LjMwNDU4YzUuNjIwNDEgOS43NTc2NiA1LjYyMDQxIDIxLjc3OTA5IDAgMzEuNTM2NzRsLTYwLjczMTYzIDEwNS4zMzA2MWMtNS42NDY0MyA5Ljc4MzY3LTE2LjA4MDYxIDE1Ljc5NDM5LTI3LjMyMTQzIDE1Ljc5NDM5SDExNS4zNzI0NWMtMTEuMzE4ODgtLjA1MjA0LTIxLjcyNzA0LTYuMDg4NzgtMjcuMzk5NS0xNS44NDY0M3oiIGZpbGw9IiNGRkYiLz4KICAgIDxwYXRoIGQ9Ik05My4xNTEwMiAyNzUuMTk3MDhsLTU3LjExNDgtOTkuMDU5N2MtNS4zMDgxNi05LjE4NTItNS4zMDgxNi0yMC41MDQwOCAwLTI5LjY2MzI2bDU3LjExNDgtOTkuMDg1NzJjNS4zMzQxOC05LjIxMTIyIDE1LjE0Mzg4LTE0Ljg1NzY1IDI1LjczNDE4LTE0Ljg1NzY1aDExNC4yMjk2YzEwLjU5MDMgMCAyMC40MjYwMiA1LjY0NjQzIDI1LjczNDE4IDE0Ljg1NzY1bDU3LjE2Njg0IDk5LjAzMzY4YzUuMzA4MTYgOS4xODUyIDUuMzA4MTYgMjAuNTA0MDggMCAyOS42NjMyNkwyNTguODc1IDI3NS4yMjMxYy01LjMzNDE4IDkuMjExMjItMTUuMTQzODggMTQuODU3NjUtMjUuNzM0MTggMTQuODU3NjVIMTE4LjkzNzI0Yy0xMC42NDIzNCAwLTIwLjQ1MjA0LTUuNjcyNDUtMjUuNzg2MjItMTQuODgzNjd6IiBmaWxsPSIjN0M0REZGIi8+CiAgICA8cGF0aCBkPSJNMTE4LjQ2ODg4IDE0Mi4yMzI4aDExNy41MzQxOGMxLjQ4MzE2IDAgMi42NTQwOC0xLjE5Njk1IDIuNjU0MDgtMi42NTQwOXYtMjIuMDM5MjhjMC0xNC42NDk1LTExLjg5MTMyLTI2LjU0MDg1LTI2LjU0MDgxLTI2LjU0MDg1aC03MC41NjczNWMtMjAuNTMwMS0uMDI2LTM3LjE1NzIyIDE2LjYwMTA1LTM3LjE1NzIyIDM3LjEzMTE1LS4wMjU5NCA3LjgzMjE0IDYuMjcxIDE0LjEwMzA2IDE0LjA3NzEyIDE0LjEwMzA2ek0xMjkuOTk1OTIgMjM5LjYwMTE2SDIwMC4yMjVjMjEuMjA2NjMgMCAzOC40MzIxNC0xNy4yMjU1MSAzOC40MzIxNC0zOC40MzIxNCAwLTcuMDc3NTUtNS43MjQ0OS0xMi44MjgwNi0xMi44MjgwNi0xMi44MjgwNkgxMDYuOTQxODRjLTEuNDU3MTUgMC0yLjU1MDA1IDEuMTcwOTEtMi41NTAwNSAyLjU1djIzLjA1NDA4Yy0uMDI1OTcgMTQuMTgxMTIgMTEuNDc1MDUgMjUuNjU2MTIgMjUuNjA0MTMgMjUuNjU2MTJ6IiBmaWxsPSIjRjdGN0Y3Ii8+CiAgICA8cGF0aCBkPSJNMTA5LjU5NTkyIDEzOS4zMTg1bDg3LjY2Mjc1IDg3LjY2Mjc2YzUuODAyNTUgNS44MDI1NSAxNS4xOTU5MiA1LjgwMjU1IDIwLjk5ODQ3IDBsMTUuMTk1OTItMTUuMTk1OTJjNS44MDI1NS01LjgwMjU1IDUuODAyNTUtMTUuMTk1OTEgMC0yMC45OTg0N2wtODcuNjM2NzMtODcuNjYyNzVjLTUuODAyNTUtNS44MDI1NS0xNS4xOTU5Mi01LjgwMjU1LTIwLjk5ODQ3IDBsLTE1LjE5NTkyIDE1LjE5NTkyYy01Ljg1NDYgNS44MDI1NS01Ljg1NDYgMTUuMjIxOTQtLjAyNjAyIDIwLjk5ODQ3eiIgZmlsbD0iI0Y3RjdGNyIvPgogICAgPHBhdGggZmlsbD0iIzQ0NCIgb3BhY2l0eT0iLjMiIGQ9Ik0xOTguNjg5OCAyMjguNDY0NDNsLTUxLjQ5NDQtNDAuMTIzNDdoMTEuMzk2OTV6TTE0NC4zNTkxOCAxMDEuNjY2OThsNDAuNTY1ODIgNDAuNTY1ODFoMTMuNzY0OHoiLz4KICA8L2c+Cjwvc3ZnPg==","underline":true},{"title":"Custom","value":"","selected":false}]');var B;function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R.apply(this,arguments)}const W=(e,t)=>{let{title:s,titleId:l,...i}=e;return a.createElement("svg",R({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},i),s?a.createElement("title",{id:l},s):null,B||(B=a.createElement("path",{d:"M8.00004 1.33301C4.32004 1.33301 1.33337 4.31967 1.33337 7.99967C1.33337 11.6797 4.32004 14.6663 8.00004 14.6663C11.68 14.6663 14.6667 11.6797 14.6667 7.99967C14.6667 4.31967 11.68 1.33301 8.00004 1.33301ZM11.3334 8.66634H4.66671V7.33301H11.3334V8.66634Z",fill:"#D0D5DD"})))},$=(0,a.forwardRef)(W),K=e=>{let{issuers:t=[],onChange:s}=e;const{t:l}=(0,c.$G)(),[i,r]=(0,a.useState)(null),[n,d]=(0,a.useState)(""),o=!n&&!(null!==i&&void 0!==i&&i.value)||!(null!==i&&void 0!==i&&i.title)||t.some((e=>e.domain===n));return(0,D.jsx)("div",{className:"py-4 w-full flex flex-col gap-4",children:(0,D.jsxs)("ul",{className:"flex flex-col gap-4",children:[t.map((e=>{let{enable:a,favicon:l,domain:i}=e;return(0,D.jsxs)("li",{className:"flex items-center justify-between gap-10",children:[(0,D.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,D.jsx)($,{className:"cursor-pointer",onClick:()=>{s(t.filter((e=>e.domain!==i)))}}),(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[Boolean(l)&&(0,D.jsx)("img",{src:l,alt:"logo",className:"w-8 h-8"}),(0,D.jsx)(N.Z,{readOnly:!0,value:i,prefix:"https://",placeholder:"Issuer Domain",className:"w-[280px]"})]})]}),(0,D.jsx)("div",{className:"w-14 flex justify-end",children:(0,D.jsx)(C.Z,{checked:a,onClick:()=>{s(t.map((e=>({...e,enable:e.domain===i?!a:e.enable}))))}})})]},i)})),(0,D.jsxs)("li",{className:"flex items-center justify-between gap-10 cursor-pointer",children:[(0,D.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,D.jsx)(Q,{options:G.map((e=>({...e,selected:t.some((t=>t.domain===e.value))}))),current:i,updateSelect:r}),(0,D.jsx)("div",{className:"flex items-center justify-between gap-4",children:(0,D.jsx)(N.Z,{onChange:e=>{d(e.target.value)},readOnly:!(null===i||void 0===i||!i.value),value:(null===i||void 0===i?void 0:i.value)||n,prefix:"https://",placeholder:"domain.com",className:"w-[280px]"})})]}),(0,D.jsx)("div",{className:"w-14 flex justify-end",children:(0,D.jsx)(f.Z,{disabled:o,onClick:()=>{const e=G.find((e=>e.value===(null===i||void 0===i?void 0:i.value)));if(!e)return;const{icon:a,value:l}=e;s(t.concat({enable:!0,favicon:a||"",domain:l||n})),r(null),d("")},children:l("action.add")})})]})]})})};var F=s(25089),V=s(42712);function H(){const{t:e}=(0,c.$G)("setting",{keyPrefix:"login"}),{t:t}=(0,c.$G)(),{changed:s,clientId:a,updateClientId:l,updateClientIdToServer:i}=(0,F.Z)(),{config:r,changed:n,updateGithubAuthConfigToServer:d,updateGithubAuthConfig:o}=(0,V.Z)(),{values:x,updateConfig:j,setValues:M,reset:g,changed:p}=m("login"),y=e=>{const{key:t}=e.target.dataset;t&&o({[t]:e.target.value})},w=e=>{M((t=>t?{...t,...e}:t))};if(!x)return null;const{google:v,magic_link:f,github:I,metamask:T,password:b,oidc:L=[]}=x,k=s||p||n;return(0,D.jsxs)("div",{className:"setting-container max-md:w-full max-md:h-auto",children:[(0,D.jsxs)("div",{className:"inputs",children:[(0,D.jsx)("div",{className:"input",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"title",children:[(0,D.jsx)("div",{className:"txt",children:(0,D.jsx)(h.Z,{className:"dark:text-gray-200",children:e("password")})}),(0,D.jsx)("span",{className:"desc dark:!text-gray-400",children:e("password_desc")})]}),(0,D.jsx)(C.Z,{onClick:w.bind(null,{password:!b}),checked:b})]})}),(0,D.jsx)("div",{className:"input",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"title",children:[(0,D.jsx)("div",{className:"txt",children:(0,D.jsx)(h.Z,{className:"dark:text-gray-200",children:e("magic_link")})}),(0,D.jsx)("span",{className:"desc dark:!text-gray-400",children:e("magic_link_desc")})]}),(0,D.jsx)(C.Z,{onClick:w.bind(null,{magic_link:!f}),checked:f})]})}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"title",children:[(0,D.jsxs)("div",{className:"txt",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",children:e("google")}),(0,D.jsx)(U,{link:"https://doc.voce.chat/setting/third_login/login-google"})]}),(0,D.jsx)("span",{className:"desc dark:!text-gray-400",children:e("google_desc")})]}),(0,D.jsx)(C.Z,{onClick:w.bind(null,{google:!v}),checked:v})]}),(0,D.jsx)("div",{className:"row",children:(0,D.jsx)(N.Z,{disabled:!v,onChange:e=>{l(e.target.value)},placeholder:"Client ID",value:a})})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"title",children:[(0,D.jsxs)("div",{className:"txt",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",children:e("github")}),(0,D.jsx)(U,{link:"https://doc.voce.chat/setting/third_login/login-github"})]}),(0,D.jsx)("span",{className:"desc dark:!text-gray-400",children:e("github_desc")})]}),(0,D.jsx)(C.Z,{onClick:w.bind(null,{github:!I}),checked:I})]}),(0,D.jsxs)("div",{className:"row inputs",children:[(0,D.jsx)(N.Z,{disabled:!I,"data-key":"client_id",onChange:y,placeholder:"GitHub Client ID",value:null===r||void 0===r?void 0:r.client_id}),(0,D.jsx)(N.Z,{disabled:!I,"data-key":"client_secret",onChange:y,placeholder:"GitHub Client Secret",value:null===r||void 0===r?void 0:r.client_secret})]})]}),(0,D.jsx)("div",{className:"input",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("div",{className:"title",children:[(0,D.jsxs)("div",{className:"txt",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",children:e("metamask")}),(0,D.jsx)(U,{link:"https://doc.voce.chat/setting/third_login/login-metamask"})]}),(0,D.jsx)("span",{className:"desc dark:!text-gray-400",children:e("metamask_desc")})]}),(0,D.jsx)(C.Z,{onClick:w.bind(null,{metamask:!T}),checked:T})]})}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)("div",{className:"row",children:(0,D.jsxs)("div",{className:"title",children:[(0,D.jsxs)("div",{className:"txt",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",htmlFor:"desc",children:e("oidc")}),(0,D.jsx)(U,{link:"https://doc.voce.chat/setting/third_login/login-webid"})]}),(0,D.jsx)("span",{className:"desc dark:!text-gray-400",children:e("oidc_desc")})]})}),(0,D.jsx)("div",{className:"row",children:(0,D.jsx)(K,{issuers:L,onChange:e=>{M((t=>t?{...t,oidc:e}:t))}})})]})]}),k&&(0,D.jsx)(_.Z,{saveHandler:async()=>{const{google:e}=x;p&&j(x),e&&s&&(await i(),p||u.ZP.success(t("tip.update"))),I&&n&&(await d(),p||u.ZP.success(t("tip.update")))},resetHandler:g})]})}function J(){const{values:e,setValues:t,updateConfig:s,changed:a,reset:l}=m("firebase"),{t:i}=(0,c.$G)("setting"),r={disable:i("firebase.disable"),official:i("firebase.use_official"),custom:i("firebase.custom")};let n="";if(e){const{use_official:t,enabled:s=!1}=e;n=s?t?"official":"custom":"disable"}const o=e=>{const s=e.target.value,{type:a=""}=e.target.dataset;t((e=>e?{...e,[a]:s}:e))};if(!e)return null;const{token_url:u,project_id:x,private_key:j,client_email:M}=e;return(0,D.jsxs)("div",{className:"setting-container max-md:w-full max-md:h-auto",children:[(0,D.jsx)(d.Z,{options:Object.values(r),values:Object.keys(r),value:n,onChange:s=>{let a=null;switch(s){case"custom":a={...e,enabled:!0,use_official:!1};break;case"official":a={...e,enabled:!0,use_official:!0};break;case"disable":a={...e,enabled:!1}}a&&t(a)}}),(0,D.jsxs)("fieldset",{className:"inputs",disabled:"custom"!==n,children:[(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"name",className:"dark:text-gray-200",children:i("firebase.token_url")}),(0,D.jsx)(N.Z,{"data-type":"token_url",onChange:o,value:u,name:"token_url",placeholder:i("firebase.token_url")})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"desc",className:"dark:text-gray-200",children:i("firebase.project_id")}),(0,D.jsx)(N.Z,{"data-type":"project_id",onChange:o,value:x,name:"project_id",placeholder:i("firebase.project_id")})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"desc",className:"dark:text-gray-200",children:i("firebase.private_key")}),(0,D.jsx)(p.Z,{rows:10,spellCheck:!1,"data-type":"private_key",onChange:o,value:j,name:"private_key",placeholder:i("firebase.private_key")})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"desc",className:"dark:text-gray-200",children:i("firebase.client_email")}),(0,D.jsx)(N.Z,{"data-type":"client_email",onChange:o,value:M,name:"client_email",placeholder:i("firebase.client_email")})]})]}),a&&(0,D.jsx)(_.Z,{saveHandler:()=>{s(e)},resetHandler:()=>{l()}})]})}function X(){const{t:e}=(0,c.$G)("setting",{keyPrefix:"smtp"}),[t,s]=(0,a.useState)(""),[l,{isSuccess:i,isError:r}]=(0,j.D$)(),{reset:n,updateConfig:d,values:o,setValues:x,changed:M,toggleEnable:g}=m("smtp"),p=e=>{const t=e.target.value,{type:s=""}=e.target.dataset;x((e=>e?{...e,[s]:t}:e))};if((0,a.useEffect)((()=>{i&&u.ZP.success("Send Test Email Successfully"),r&&u.ZP.error("Send Test Email Fail")}),[i,r]),!o)return null;const{host:y,port:w,from:v,username:I,password:T,enabled:b=!1}=o;return(0,D.jsxs)("div",{className:"setting-container max-md:w-full",children:[(0,D.jsxs)("div",{className:"inputs",children:[(0,D.jsxs)("div",{className:"input row",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",children:e("enable")}),(0,D.jsx)(C.Z,{onClick:g,checked:b})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",htmlFor:"name",children:e("host")}),(0,D.jsx)(N.Z,{disabled:!b,"data-type":"host",onChange:p,value:y,name:"host",placeholder:"SMTP Host"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",htmlFor:"desc",children:e("port")}),(0,D.jsx)(N.Z,{disabled:!b,type:"number","data-type":"port",onChange:p,value:w,name:"port",placeholder:"SMTP Port"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",htmlFor:"desc",children:e("from")}),(0,D.jsx)(N.Z,{disabled:!b,"data-type":"from",onChange:p,value:v,name:"from",placeholder:"SMTP From"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",htmlFor:"desc",children:e("username")}),(0,D.jsx)(N.Z,{disabled:!b,"data-type":"username",onChange:p,value:I,name:"username",placeholder:"SMTP Username"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{className:"dark:text-gray-200",htmlFor:"desc",children:e("password")}),(0,D.jsx)(N.Z,{type:"password",disabled:!b,"data-type":"password",onChange:p,value:T,name:"password",placeholder:"SMTP Password"})]})]}),(0,D.jsxs)("div",{className:"tip",children:[(0,D.jsx)(Z.Z,{className:"dark:fill-gray-300"}),(0,D.jsx)("a",{href:"https://doc.voce.chat/setting/smtp/smtp-gmail",target:"_blank",className:"link",rel:"noreferrer",children:e("how_to")})]}),(0,D.jsxs)("div",{className:"flex gap-4 whitespace-nowrap mt-6",children:[(0,D.jsx)(N.Z,{type:"email",disabled:!b,onChange:e=>{const t=e.target.value;s(t)},value:t,name:"email",placeholder:"test@email.com"}),(0,D.jsx)(f.Z,{disabled:!b||!t,onClick:()=>{l({to:t,subject:"test title",content:"test content"})},children:e("send_test_email")})]}),M&&(0,D.jsx)(_.Z,{saveHandler:()=>{var e;d({...o,port:Number(null!==(e=null===o||void 0===o?void 0:o.port)&&void 0!==e?e:0)})},resetHandler:n})]})}function q(){const{t:e}=(0,c.$G)("setting"),{t:t}=(0,c.$G)(),{updateConfig:s,values:l}=m("login"),{data:i}=(0,j.BL)(),[r,{data:n,isSuccess:d,isLoading:o}]=(0,j.gU)();(0,a.useEffect)((()=>{d&&((0,A.Bn)(),u.ZP.success(t("tip.update")))}),[d]);const x=null===l||void 0===l?void 0:l.third_party;return(0,D.jsxs)("div",{className:"max-w-[500px] flex flex-col gap-4 items-start",children:[(0,D.jsx)(C.Z,{onClick:(e=>{s({...l,...e})}).bind(null,{third_party:!x}),checked:x}),(0,D.jsxs)("div",{className:"w-full flex flex-col items-start gap-2",children:[(0,D.jsxs)("label",{htmlFor:"secret",className:"text-sm text-gray-500 dark:text-gray-100",children:[" ",e("third_app.key"),":"]}),(0,D.jsx)(N.Z,{disabled:!x,type:"password",id:"secret",value:n||i})]}),(0,D.jsx)(z.ZP,{interactive:!0,placement:"right-start",trigger:"click",content:(0,D.jsxs)("div",{className:"p-3 rounded-lg border border-orange-400 border-solid flex flex-col gap-3 w-[250px] bg-white",children:[(0,D.jsx)("div",{className:"text-orange-500 text-xs",children:e("third_app.update_tip")}),(0,D.jsxs)("div",{className:"flex justify-end gap-3 w-full",children:[(0,D.jsx)(f.Z,{onClick:()=>(0,A.Bn)(),className:"cancel mini",children:t("action.cancel")}),(0,D.jsx)(f.Z,{disabled:o,className:"mini danger",onClick:()=>r(),children:t("action.yes")})]})]}),children:(0,D.jsxs)(f.Z,{disabled:!x,children:[" ",e("third_app.update")]})}),(0,D.jsxs)("div",{className:"text-xs text-orange-400",children:[e("third_app.key_tip"),(0,D.jsxs)("a",{className:"text-primary-500 font-bold",href:"https://doc.voce.chat/login-with-other-account",target:"_blank",rel:"noopener noreferrer",children:["\ud83d\udd17  ",e("third_app.how_to")]})]})]})}var ee=s(7699),te=s.n(ee),se=s(51892),ae=s(24532),le=s(80874),ie=s(40698),re=s(80308);const ce=e=>{const t=te()();let s=t;switch(e){case"year":s=t.add(100,"year");break;case"month":s=t.add(1,"month");break;case"quarter":s=t.add(3,"month")}return s.format("YYYY-MM-DD")},ne=(0,re.tR)(),de=e=>{let{closeModal:t}=e;const{t:s}=(0,c.$G)("setting"),{t:l}=(0,c.$G)(),[i,{isLoading:r,isSuccess:n}]=(0,j.O2)(),[o,x]=(0,a.useState)(location.hostname),[M,m]=(0,a.useState)(!1),[g,h]=(0,a.useState)(`${ne[0].pid}|${ne[0].limit}|${ne[0].type}|${ne[0].sub_dur||""}`),p=()=>{m((e=>!e))},_=g.includes("booking");return(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{title:s("license.renew"),description:s("license.renew_select"),buttons:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{onClick:t,className:"ghost",children:l("action.cancel")}),_?(0,D.jsx)(f.Z,{onClick:()=>{window.open("https://calendly.com/hansu","_blank")},children:"Booking a meeting!"}):(0,D.jsx)(z.ZP,{visible:M,interactive:!0,placement:"top-end",offset:[0,-40],trigger:"click",content:(0,D.jsxs)("div",{className:"p-3 rounded-lg border border-solid border-gray-200 dark:border-gray-900 flex flex-col items-start gap-3 w-[380px] bg-white dark:bg-gray-800 shadow shadow-gray-200 dark:shadow-gray-900 drop-shadow-xl",children:[(0,D.jsx)("div",{className:"text-gray-500 text-sm",children:s("license.tip_domain")}),(0,D.jsx)(N.Z,{value:o,onChange:e=>{x(e.target.value)}}),(0,D.jsxs)("div",{className:"flex justify-between items-center w-full mt-4",children:[(0,D.jsxs)("span",{className:"text-xs text-orange-500",children:[" ",s("license.tip_port")]}),(0,D.jsxs)("div",{className:"flex gap-3",children:[(0,D.jsx)(f.Z,{className:"mini cancel",onClick:p,children:l("action.cancel")}),(0,D.jsx)(f.Z,{className:"mini",disabled:r||n,onClick:async()=>{if(!ae.Bu(o))return void u.ZP.error("Invalid Host");const[e,t,s,a="month"]=g.split("|"),l={user_limit:Number(t),expire:ce("subscription"==s?a:"year"),domain:o.startsWith("localhost")?"*":o},r=await i({type:s,priceId:e,metadata:l,cancel_url:location.href,success_url:`${location.origin}/#/cb/payment_success`});"error"in r?u.ZP.error("Payment link initialized failed!"):(r.data,location.href=r.data.session_url)},children:r?"Initialize Payment Url":n?"Redirecting":s("license.tip_confirm")})]})]})]}),children:(0,D.jsxs)("button",{onClick:p,className:"text-sm text-white bg-primary-400 break-keep shadow rounded-lg px-3.5 py-2.5 md:hover:bg-primary-500 active:bg-primary-500 disabled:bg-gray-300",children:[" ",s("license.renew")]})})]}),children:(0,D.jsx)(d.Z,{options:ne.map((e=>{let{title:t,desc:s,price:a}=e;return`${t} ${s?`[${s}]`:""}${a?`[${a}]`:""}`})),values:ne.map((e=>{let{pid:t,limit:s,type:a="payment",sub_dur:l="month"}=e;return`${t}|${s}|${a}|${l}`})),value:g,onChange:e=>{h(e)}})})})};var oe=s(57425);const ue=e=>{let{closeModal:t,updateLicense:s,updating:l,updated:i}=e;const[r,n]=(0,a.useState)(""),{t:d}=(0,c.$G)("setting"),{t:o}=(0,c.$G)();return(0,a.useEffect)((()=>{i&&(u.ZP.success(o("tip.update")),t())}),[i]),(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{buttons:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{onClick:t,className:"ghost",children:o("action.cancel")}),(0,D.jsx)(f.Z,{disabled:l||i||!r,onClick:async()=>{const e=await s(r);"boolean"!=typeof e||e||u.ZP.error("Check License Invalid!")},children:l?"Updating":i?"Update Successfully":d("license.update")})]}),children:(0,D.jsx)(p.Z,{rows:18,placeholder:d("license.update_placeholder"),value:r,onChange:e=>{n(e.target.value)}})})})},xe=e=>{let{label:t,data:s,foldable:a=!1,...l}=e;const i=(0,oe.Z)("font-bold w-full cursor-pointer dark:text-green-500",a?"truncate":"whitespace-pre-wrap break-all");return s?(0,D.jsxs)("div",{className:"whitespace-nowrap  flex flex-col items-start justify-start text-lg",children:[(0,D.jsx)("span",{className:"text-sm text-green-500",children:t}),Array.isArray(s)?(0,D.jsx)("ul",{className:i,children:s.map((e=>(0,D.jsx)("li",{children:e},e)))}):(0,D.jsx)("span",{className:i,...l,children:s})]}):null};function je(){var e;const{t:t,i18n:s}=(0,c.$G)("setting"),{license:l,reachLimit:i,upsertLicense:r,upserting:n,upserted:d}=(0,se.Z)(!0),[o,u]=(0,a.useState)(!1),[x,j]=(0,a.useState)(!1),[M,m]=(0,a.useState)(!0),g=()=>{u((e=>!e))},N=()=>{j((e=>!e))};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"max-w-3xl flex flex-col justify-start items-start gap-4",children:[(0,D.jsxs)("div",{className:(0,oe.Z)("relative w-full p-3 rounded border-solid border flex flex-col gap-4 shadow",i?"border-red-600 bg-red-200/50":"border-green-600 bg-green-100 dark:bg-green-900"),children:[(0,D.jsx)(xe,{label:t("license.signed"),data:null!==l&&void 0!==l&&l.sign?"Yes":"Not Yet"}),(0,D.jsx)(xe,{label:t("license.domain"),data:null===l||void 0===l?void 0:l.domains}),(0,D.jsx)(xe,{label:t("license.user_limit"),data:(null!==(e=null===l||void 0===l?void 0:l.user_limit)&&void 0!==e?e:0)>=999999?"No Limit":null===l||void 0===l?void 0:l.user_limit}),(0,D.jsx)(xe,{label:t("license.expire"),data:te()(null===l||void 0===l?void 0:l.expired_at).format("YYYY-MM-DD h:mm:ss A")}),(0,D.jsx)(xe,{label:t("license.create"),data:te()(null===l||void 0===l?void 0:l.created_at).format("YYYY-MM-DD h:mm:ss A")}),(0,D.jsx)(xe,{label:t("license.value"),data:null===l||void 0===l?void 0:l.base58,foldable:M,title:M?"Click to see full text":"Click to fold text",onClick:()=>{m((e=>!e))}})]}),(0,D.jsxs)("div",{className:"flex gap-2",children:[(0,D.jsx)(f.Z,{onClick:g,children:t("license.renew")}),(0,D.jsx)(f.Z,{onClick:N,className:"ghost",children:t("license.update")})]}),(0,D.jsxs)("div",{className:"flex flex-col gap-4 bg-primary-500 text-white rounded drop-shadow-xl p-5",children:[(0,D.jsxs)("h2",{className:"text-2xl font-bold",children:[t("license.tip.title")," \ud83c\udf81"]}),(0,D.jsxs)("p",{className:"flex flex-col",children:[(0,D.jsx)("span",{children:t("license.tip.user_test")}),(0,D.jsxs)("span",{children:[t("license.tip.contact"),s.language.startsWith("zh")?"Privoce":(0,D.jsx)("a",{className:"underline text-lg text-green-200",href:"https://calendly.com/hansu/han-meeting",target:"_blank",rel:"noopener noreferrer",children:"https://calendly.com/hansu/han-meeting"})]})]})]})]}),o&&(0,D.jsx)(de,{closeModal:g}),x&&(0,D.jsx)(ue,{updated:d,updating:n,updateLicense:r,closeModal:N})]})}var Me=s(28489),me=s(61991),ge=s(26209);const Ne=e=>{let{paramKey:t,paramDefault:s,remarks:a}=e;return(0,D.jsxs)("tr",{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 border-b transition duration-300 ease-in-out md:hover:bg-gray-100 dark:md:hover:bg-gray-900",children:[(0,D.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t}),(0,D.jsx)("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap",children:"theme-color"==t?(0,D.jsxs)("span",{style:{color:s},children:[" ",s]}):s}),(0,D.jsx)("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap",children:a})]})};function he(){const e=(0,o.CG)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.uid})),t=`${location.origin}/widget.html?host=${e}`,{t:s}=(0,c.$G)("setting",{keyPrefix:"widget"}),{t:a}=(0,c.$G)("widget"),{t:l}=(0,c.$G)(),{copied:i,copy:r}=(0,ge.Z)({enableToast:!1});return(0,D.jsxs)("div",{className:"flex flex-col justify-start items-start",children:[(0,D.jsx)("div",{className:"text-gray-600 dark:text-gray-100",children:s("tip")}),(0,D.jsxs)("label",{htmlFor:"code",className:"text-gray-500 dark:text-white text-sm mt-5",children:[s("code"),":"]}),(0,D.jsx)(Me.Z,{id:"code",language:"html",style:me.Z,className:"rounded",children:`\x3c!-- ${s("code_comment")} --\x3e\n<script \n  data-host-id="${e}" \n  data-theme-color="#1fe1f9" \n  data-close-width="48" \n  data-close-height="48" \n  data-open-width="380" \n  data-open-height="680" \n  data-welcome="Your custom welcome text" \n  src="${location.origin}/widget.js" \n  async \n><\/script>`}),(0,D.jsxs)("div",{className:"text-gray-500 dark:text-white text-sm mt-5 mb-2",children:[s("config"),":"]}),(0,D.jsx)("div",{className:"w-full md:w-[700px] border border-solid border-gray-300 dark:border-gray-400 rounded overflow-auto md:overflow-hidden",children:(0,D.jsxs)("table",{className:"min-w-full table-auto",children:[(0,D.jsx)("thead",{className:"border-b bg-gray-50 dark:bg-gray-500",children:(0,D.jsx)("tr",{children:[s("param_key"),s("default_value"),s("remark")].map((e=>(0,D.jsx)("th",{scope:"col",className:"text-sm font-bold text-gray-900 dark:text-white px-6 py-4 text-left",children:e},e)))})}),(0,D.jsx)("tbody",{children:[{paramKey:"host-id",paramDefault:1,remarks:s("param_host")},{paramKey:"theme-color",paramDefault:"#1fe1f9",remarks:s("param_theme_color")},{paramKey:"close-width",paramDefault:"48(px)",remarks:s("param_close_width")},{paramKey:"close-height",paramDefault:"48(px)",remarks:s("param_close_height")},{paramKey:"open-width",paramDefault:"380(px)",remarks:s("param_open_width")},{paramKey:"open-height",paramDefault:"680(px)",remarks:s("param_open_height")},{paramKey:"welcome",paramDefault:a("welcome"),remarks:s("param_welcome")}].map((e=>(0,D.jsx)(Ne,{...e},e.paramKey)))}),(0,D.jsx)("tfoot",{className:"border-t border-solid border-gray-200 dark:border-gray-50 dark:bg-gray-500",children:(0,D.jsx)("tr",{children:(0,D.jsxs)("td",{colSpan:3,className:"text-gray-400 dark:text-white px-5 py-3 text-sm",children:["* All the parameters are optional, and prefixed by ",(0,D.jsx)("i",{className:"bg-gray-700 text-white px-1",children:"data-"})]})})})]})}),(0,D.jsxs)("div",{className:"mt-8",children:[(0,D.jsxs)("p",{className:"text-sm mb-2 text-gray-500 dark:text-gray-50 flex flex-col md:flex-row gap-4",children:[s("share_link"),"  ",(0,D.jsxs)("a",{className:"text-primary-500 flex gap-1 items-center",href:"https://doc.voce.chat/widget",target:"_blank",rel:"noopener noreferrer",children:[(0,D.jsx)(Z.Z,{})," ",s("widget_faq")]})]}),(0,D.jsxs)("div",{className:"w-full md:w-96 mb-3 relative",children:[(0,D.jsx)(N.Z,{readOnly:!0,className:"large !pr-16",value:t}),(0,D.jsx)(f.Z,{onClick:()=>{r(t)},className:"ghost small border_less absolute right-1 top-1/2 -translate-y-1/2 dark:!text-primary-400",children:i?"Copied":l("action.copy")})]})]})]})}var pe=s(52334),_e=s(9925);const De=e=>{let{closeModal:t}=e;const[s,{isSuccess:l,isLoading:i,error:r}]=(0,pe.ny)(),n=(0,a.useRef)(null),{t:d}=(0,c.$G)("setting",{keyPrefix:"bot"}),{t:o}=(0,c.$G)();return(0,a.useEffect)((()=>{if(r&&406===r.status)u.Am.error("Invalid Webhook URL!")}),[r]),(0,a.useEffect)((()=>{l&&(u.Am.success("Create Bot Successfully!"),t())}),[l]),(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{title:d("create_title"),description:d("create_desc"),buttons:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{className:"cancel",onClick:t,children:o("action.cancel")}),(0,D.jsx)(f.Z,{onClick:()=>{if(!n||!n.current)return;const e=n.current;if(!e.checkValidity())return void e.reportValidity();const t=new FormData(e),a={name:""};t.forEach(((e,t)=>{e&&(a[t]=e)}));const l=new URL(re.Ci).hostname;s({is_bot:!0,is_admin:!1,gender:1,email:`bot_${(new Date).getTime()}@${l}`,password:"",...a})},children:i?"Creating":o("action.done")})]}),children:(0,D.jsxs)("form",{ref:n,className:"w-full flex flex-col gap-2",action:"/",children:[(0,D.jsxs)("div",{className:"flex flex-col items-start gap-1 w-full",children:[(0,D.jsx)("label",{htmlFor:"name",className:"text-sm text-gray-500",children:"Name"}),(0,D.jsx)(N.Z,{name:"name",required:!0,placeholder:"Please input bot name"})]}),(0,D.jsxs)("div",{className:"flex flex-col items-start gap-1 w-full",children:[(0,D.jsx)("label",{htmlFor:"webhook_url",className:"text-sm text-gray-500",children:"Webhook URL (Optional)"}),(0,D.jsx)(N.Z,{name:"webhook_url",type:"url",placeholder:"Please input webhook url"})]})]})})})};var ye,we=s(66673),ve=s(28533);function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},fe.apply(this,arguments)}const Ie=(e,t)=>{let{title:s,titleId:l,...i}=e;return a.createElement("svg",fe({width:24,height:24,viewBox:"0 0 24 24",stroke:"#616161",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},i),s?a.createElement("title",{id:l},s):null,ye||(ye=a.createElement("path",{d:"M17 21V13H7V21M7 3V8H15M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},Te=(0,a.forwardRef)(Ie);var be=s(24041);const Le=e=>{let{uid:t}=e;const s=(0,a.useRef)(null),[l,i]=(0,a.useState)(!1),[r,c]=(0,a.useState)(""),{data:n,isSuccess:d,refetch:o}=(0,pe.ld)(t),[x,{isSuccess:j,isLoading:M}]=(0,pe.kD)();(0,a.useEffect)((()=>{d&&n&&c(n.webhook_url||"")}),[n,d]),(0,a.useEffect)((()=>{j&&o()}),[j]);const m=async()=>{if(l&&s){const e=s.current;if(null===e||void 0===e||!e.checkValidity())return void(null===e||void 0===e||e.reportValidity());const a=new FormData(e).get("webhook"),l=await x({id:t,webhook_url:a});if("error"in l){if(406===l.error.status)u.Am.error("Not Valid URL!");return}}i((e=>!e))};return(0,D.jsx)("div",{children:r||l||j?(0,D.jsxs)("div",{className:"flex gap-2",children:[(0,D.jsx)("form",{action:"/",ref:s,onSubmit:e=>{e.preventDefault(),m()},children:(0,D.jsx)("input",{readOnly:!l,required:!0,autoFocus:!0,type:"url",name:"webhook",defaultValue:r,className:(0,oe.Z)("text-sm text-gray-500 dark:text-gray-100 dark:bg-slate-900 px-2 py-1",l?"ring-1 ring-gray-500 bg-gray-50":"bg-transparent")})}),(0,D.jsx)("button",{type:"button",disabled:M,onClick:m,children:M?(0,D.jsx)(we.Z,{size:16}):l?(0,D.jsx)(Te,{className:"stroke-gray-500 !w-5 !h-5"}):(0,D.jsx)(ve.Z,{className:"fill-gray-500 !w-5 !h-5"})}),l&&!M&&(0,D.jsx)("button",{type:"button",disabled:M,onClick:()=>{i(!1);const e=s.current;if(e){e.querySelector("input").value=(null===n||void 0===n?void 0:n.webhook_url)||""}},children:(0,D.jsx)(be.Z,{className:"!w-5 !h-5 fill-gray-500"})})]}):(0,D.jsx)("button",{type:"button",className:"rounded-full bg-primary-50 text-green-600 text-xs py-0.5 px-2",onClick:()=>{i(!0)},children:"Set Webhook"})})},ke=e=>{let{uid:t,webhook:s,closeModal:l}=e;const[i,r]=(0,a.useState)(s),[n,{isSuccess:d,isLoading:o}]=(0,pe.kD)(),x=(0,a.useRef)(null),{t:j}=(0,c.$G)("setting",{keyPrefix:"bot"}),{t:M}=(0,c.$G)();return(0,a.useEffect)((()=>{d&&(u.Am.success(M("tip.update")),l())}),[d]),(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{title:j("webhook_title"),description:j("webhook_desc"),buttons:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{className:"cancel",onClick:l.bind(null,void 0),children:M("action.cancel")}),(0,D.jsx)(f.Z,{disabled:!i,onClick:()=>{var e;if(!x||!x.current)return;const s=x.current;if(!s.checkValidity())return void s.reportValidity();const a=(null===(e=new FormData(s).get("webhook"))||void 0===e?void 0:e.toString())||"";n({id:t,webhook_url:a})},children:o?"Updating":M("action.done")})]}),children:(0,D.jsxs)("form",{ref:x,className:"w-full flex flex-col gap-2",action:"/",children:[(0,D.jsx)("label",{htmlFor:"webhook",className:"text-sm text-gray-500",children:"Webhook URL"}),(0,D.jsx)(N.Z,{name:"webhook",value:i,onChange:e=>{r(e.target.value)},type:"url"})]})})})},Ee=e=>{let{closeModal:t,uid:s,name:l}=e;const[i,{isSuccess:r,isLoading:n}]=(0,pe.EO)(),{t:d}=(0,c.$G)("setting",{keyPrefix:"bot"}),{t:o}=(0,c.$G)();return(0,a.useEffect)((()=>{r&&(u.Am.success(o("tip.delete")),t())}),[r]),(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{title:`${d("delete_title")} ${l}`,description:d("delete_desc"),buttons:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{className:"cancel",onClick:t.bind(null,void 0),children:o("action.cancel")}),(0,D.jsx)(f.Z,{className:"danger",onClick:()=>{i(s)},children:n?"Deleting":o("action.done")})]})})})};var Oe=s(28595);const Ce=e=>{let{closeModal:t,uid:s}=e;const{copy:l}=(0,ge.Z)(),[i,{error:r,isSuccess:n,isLoading:d,data:o=""}]=(0,pe.wq)(),x=(0,a.useRef)(null),{t:j}=(0,c.$G)("setting",{keyPrefix:"bot"}),{t:M}=(0,c.$G)();(0,a.useEffect)((()=>{if(r)switch(r.status){case 406:u.Am.error("Invalid Webhook URL!");break;case 409:u.Am.error("Name Already Exists!")}}),[r]);return(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{title:j("create_key_title"),description:j("create_key_desc"),buttons:n?(0,D.jsx)(f.Z,{onClick:()=>{l(o),u.Am.success("API Key Copied!"),t()},children:j("key_copy_and_close")}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{className:"cancel",onClick:t,children:M("action.cancel")}),(0,D.jsx)(f.Z,{onClick:()=>{var e;if(!x||!x.current)return;const t=x.current;t.checkValidity()?i({uid:s,name:(null===(e=t.querySelector("input"))||void 0===e?void 0:e.value)||""}):t.reportValidity()},children:d?"...":M("action.done")})]}),children:n?(0,D.jsxs)("div",{className:"flex flex-col gap-2 text-sm",children:[(0,D.jsx)("div",{className:"border-green-600 bg-green-200/50 rounded border border-solid p-2 max-w-md w-full whitespace-pre-wrap break-all",children:o})," ",(0,D.jsxs)("div",{className:"text-red-400",children:["\u26a0\ufe0f ",j("create_key_warning")]})]}):(0,D.jsx)("form",{ref:x,className:"w-full flex flex-col gap-2 items-center",action:"/",children:(0,D.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,D.jsx)("label",{htmlFor:"name",className:"text-sm text-gray-500",children:"Name"}),(0,D.jsx)(N.Z,{name:"name",required:!0,placeholder:"Please input API Key name"})]})})})})},ze=e=>{let{closeModal:t,uid:s,kid:l}=e;const[i,{isSuccess:r,isLoading:n}]=(0,pe.dS)(),{t:d}=(0,c.$G)("setting",{keyPrefix:"bot"}),{t:o}=(0,c.$G)();return(0,a.useEffect)((()=>{r&&(u.Am.success(o("tip.delete")),t())}),[r]),(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{title:`${d("delete_key_title")} ${name}`,description:d("delete_key_desc"),buttons:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{className:"cancel",onClick:t,children:o("action.cancel")}),(0,D.jsx)(f.Z,{className:"danger",onClick:()=>{i({uid:s,kid:l})},children:n?"Deleting":o("action.done")})]})})})},Ae="p-1 whitespace-nowrap text-xs text-gray-500 dark:text-gray-200 align-middle px-1",Ze=e=>{let{uid:t}=e;const{t:s}=(0,c.$G)("setting",{keyPrefix:"bot"}),[l,i]=(0,a.useState)(),[r,n]=(0,a.useState)(),{data:d,refetch:o}=(0,pe.KH)(t),u=e=>{e||o(),i(e)},x=e=>{e||o(),n(e)};if(!d)return null;const j=["w-20","w-[166px]","w-36","w-15","w-10"];return(0,D.jsxs)("div",{className:"flex flex-col gap-2 items-start",children:[(0,D.jsxs)("div",{className:"border-t border-solid border-b border-gray-100 dark:border-gray-500 py-2 w-full",children:[(0,D.jsxs)("table",{className:"min-w-full table-fixed font-mono",children:[(0,D.jsx)("thead",{children:(0,D.jsx)("tr",{children:[s("col_key_name"),s("col_key_value"),s("col_key_create_time"),s("col_key_last_used"),""].map(((e,t)=>(0,D.jsx)("th",{scope:"col",className:(0,oe.Z)("text-xs text-gray-900 dark:text-gray-50 px-1 text-left pb-2",j[t]),children:e},e)))})}),(0,D.jsx)("tbody",{children:d.length>0?d.map((e=>{const{id:s,name:a,key:l,created_at:i,last_used:r}=e;return(0,D.jsxs)("tr",{className:"group",children:[(0,D.jsx)("td",{className:Ae,children:a}),(0,D.jsx)("td",{className:`${Ae} w-40`,children:`${l.slice(0,4)} ... ... ${l.slice(-6)}`}),(0,D.jsx)("td",{className:Ae,children:te()(i).format("YYYY-MM-DD HH:mm:ss")}),(0,D.jsx)("td",{className:Ae,children:r?te()(r).format("YYYY-MM-DD HH:mm:ss"):"Unused"}),(0,D.jsx)("td",{className:`${Ae} invisible group-hover:visible`,children:(0,D.jsx)("button",{onClick:x.bind(null,{kid:s,uid:t}),children:(0,D.jsx)(_e.Z,{})})})]},s)})):(0,D.jsx)("tr",{children:(0,D.jsx)("td",{colSpan:4,className:"text-center text-xs text-gray-400 py-2",children:s("no_api_key")})})})]}),(0,D.jsxs)("button",{onClick:u.bind(null,t),className:"text-green-600 text-xs py-0.5 flex items-center gap-1 m-auto my-2 bg-green-50 rounded-full px-2 ",children:[(0,D.jsx)(Oe.Z,{className:"!w-4 !h-4 fill-green-600"})," ",s("add_api_key")]})]}),l&&(0,D.jsx)(Ce,{uid:l,closeModal:u.bind(null,void 0)}),r&&(0,D.jsx)(ze,{uid:r.uid,kid:r.kid,closeModal:x.bind(null,void 0)})]})},Se=e=>{let{title:t,desc:s}=e;return(0,D.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,D.jsx)("h2",{className:"dark:text-white",children:t}),(0,D.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:s})]})},Ue="p-6 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100 align-top";function Pe(){const[e,{isSuccess:t}]=(0,pe.Jv)(),[s,l]=(0,a.useState)(!1),[i,r]=(0,a.useState)(void 0),[n,d]=(0,a.useState)(void 0),x=(0,o.CG)((e=>Object.values(e.users.byId).filter((e=>!!e.is_bot)))),{t:j}=(0,c.$G)("setting",{keyPrefix:"bot"}),{t:M}=(0,c.$G)(),m=()=>{l((e=>!e))},N=e=>{d(e)};return(0,a.useEffect)((()=>{t&&u.Am.success(M("tip.update"))}),[t]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"flex flex-col justify-start items-start gap-4",children:[(0,D.jsxs)("div",{className:"flex flex-col gap-4 max-w-[634px] mb-4",children:[(0,D.jsx)(Se,{title:j("bot_tip_title"),desc:j("bot_tip_desc")}),(0,D.jsx)(Se,{title:j("webhook_tip_title"),desc:j("webhook_tip_desc")})]}),(0,D.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,D.jsxs)("h2",{className:"font-semibold flex gap-4 items-center dark:text-white",children:[j("manage"),(0,D.jsxs)("a",{href:"https://doc.voce.chat/bot-and-webhook",target:"_blank",className:"text-sm text-blue-400 underline-offset-1 underline",rel:"noopener noreferrer",children:["\ud83d\udd17 ",j("how_to_use")]})]}),(0,D.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:j("manage_desc")})]}),(0,D.jsx)("div",{className:"w-full md:w-fit overflow-auto md:overflow-hidden",children:(0,D.jsxs)("table",{className:"min-w-full table-auto",children:[(0,D.jsx)("thead",{className:"border-b dark:border-b-gray-500 bg-gray-50 dark:bg-gray-600",children:(0,D.jsx)("tr",{children:[j("col_avatar"),j("col_name"),j("col_api_key"),j("col_webhook"),j("col_opt")].map((e=>(0,D.jsx)("th",{scope:"col",className:"text-sm font-bold text-gray-900 dark:text-gray-100 px-6 py-4 text-left",children:e},e)))})}),(0,D.jsx)("tbody",{children:x.map((t=>{const{uid:s,name:a,avatar:l}=t;return(0,D.jsxs)("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-b-gray-500 transition duration-300 ease-in-out md:hover:bg-gray-100 dark:md:hover:bg-transparent",children:[(0,D.jsx)("td",{className:"px-4 py-2",children:(0,D.jsx)(g.Z,{uid:s,url:l,uploadImage:e,name:a,size:56})}),(0,D.jsxs)("td",{className:`${Ue}`,children:[(0,D.jsx)("div",{children:a}),(0,D.jsxs)("div",{className:"text-xs text-gray-500",children:["#",s]})]}),(0,D.jsx)("td",{className:`${Ue} py-2`,children:(0,D.jsx)(Ze,{uid:s})}),(0,D.jsx)("td",{className:Ue,children:(0,D.jsx)(Le,{uid:s})}),(0,D.jsx)("td",{className:Ue,children:(0,D.jsx)("button",{type:"button",onClick:N.bind(null,{uid:s,name:a}),children:(0,D.jsx)(_e.Z,{className:"hover:opacity-80"})})})]},s)}))})]})}),(0,D.jsx)("div",{className:"flex gap-4",children:(0,D.jsx)(f.Z,{onClick:m,className:"small",children:M("action.add")})})]}),s&&(0,D.jsx)(De,{closeModal:m}),i&&(0,D.jsx)(ke,{closeModal:e=>{r(e)},...i}),n&&(0,D.jsx)(Ee,{closeModal:N,...n})]})}var Ye=s(75208);const Qe=`${location.origin}/api/swagger`,Ge=()=>{const e=(0,o.CG)((e=>e.authData.token)),{copy:t}=(0,ge.Z)(),{t:s}=(0,c.$G)("setting");return(0,D.jsxs)("section",{className:"flex flex-col justify-start items-start gap-4",children:[(0,D.jsx)("div",{className:"text-gray-500 dark:text-gray-100",children:s("api_doc.desc")}),(0,D.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,D.jsx)("h2",{className:"text-gray-700 dark:text-white text-xl font-bold",children:s("api_doc.access")}),(0,D.jsx)("a",{href:Qe,target:"_blank",rel:"noopener noreferrer",className:"underline text-primary-600",children:Qe})]}),(0,D.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,D.jsx)("h2",{className:"text-gray-700 dark:text-white text-xl font-bold",children:s("api_doc.use_method")}),(0,D.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,D.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,D.jsxs)("h3",{className:"text-gray-700 dark:text-white text-lg",children:["\ud83d\udc49 ",s("api_doc.step_1")]}),(0,D.jsx)("img",{className:"border border-solid rounded-md border-gray-300 shadow-lg md:w-[85%]",src:"https://s.voce.chat/web_client/assets/img/api.doc.step1.png",alt:"step 1"})]}),(0,D.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,D.jsxs)("h3",{className:"text-gray-700 dark:text-white text-lg flex flex-col items-start gap-2",children:["\ud83d\udc49 ",s("api_doc.step_2")," ",(0,D.jsxs)("span",{className:"text-gray-500 dark:text-white text-sm",children:["(",s("api_doc.step_2_desc"),")"]})]}),(0,D.jsx)("div",{className:"flex flex-col border border-solid border-green-500 bg-green-100 rounded-md p-2 w-fit break-words text-sm relative",children:(0,D.jsxs)("p",{className:"break-all md:max-w-4xl font-bold",children:[e,(0,D.jsx)(Ye.Z,{onClick:()=>{t(e)},className:"absolute right-2 bottom-2 cursor-pointer"})]})}),(0,D.jsx)("img",{className:"border border-solid rounded-md border-gray-300 shadow-lg md:w-[85%]",src:"https://s.voce.chat/web_client/assets/img/api.doc.step2.jpg",alt:"step 2"})]}),(0,D.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,D.jsxs)("h3",{className:"text-gray-700 dark:text-white text-lg flex items-center gap-2",children:["\ud83d\udc49  ",s("api_doc.last")]}),(0,D.jsx)("img",{className:"border border-solid rounded-md border-gray-300 shadow-lg md:w-[85%]",src:"https://s.voce.chat/web_client/assets/img/api.doc.step3.png",alt:"step 3"})]})]})]})]})};var Be=s(65321),Re=s(18225),We=s(81687);const $e=()=>{var e;const t=(0,o.CG)((e=>e.server.version)),[s,l]=(0,a.useState)(!1),{t:i}=(0,c.$G)("setting",{keyPrefix:"version"}),r=null!==(e="1684129230")?e:0;return(0,D.jsxs)("ul",{className:"flex flex-col gap-2 dark:text-white",children:[(0,D.jsxs)("li",{children:[i("client_version"),": ","0.3.62"]}),(0,D.jsxs)("li",{children:[i("server_version"),": ",t]}),(0,D.jsxs)("li",{children:[i("build_time"),": ",r,"  ",(0,D.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:["(",te()(1e3*r).fromNow(),")"]})]}),(0,D.jsx)("li",{children:(0,D.jsxs)(f.Z,{disabled:s,onClick:()=>{l(!0),(0,We.E)(),setTimeout((()=>{location.reload()}),2e3)},children:[" ",s?(0,D.jsx)(Re.Z,{size:18,color:"#fff"}):i("sync")]})})]})};function Ke(){const{changed:e,reset:t,values:s,setValues:a,toggleEnable:l,updateConfig:i}=m("agora"),r=e=>{const t=e.target.value,{type:s=""}=e.target.dataset;a((e=>e?{...e,[s]:t}:e))};if(!s)return null;const{url:c,project_id:n,app_id:d,app_certificate:o,customer_id:u,customer_secret:x,enabled:j=!1}=s,M=c||"https://api.agora.io";return(0,D.jsxs)("div",{className:"setting-container",children:[(0,D.jsxs)("div",{className:"inputs",children:[(0,D.jsxs)("div",{className:"input row",children:[(0,D.jsx)(h.Z,{children:"Enable"}),(0,D.jsx)(C.Z,{onClick:l,checked:j})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"url",children:"Agora Url"}),(0,D.jsx)(N.Z,{disabled:!j,"data-type":"url",onChange:r,value:M,name:"url",placeholder:"Agora URL"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"project_id",children:"Project ID"}),(0,D.jsx)(N.Z,{spellCheck:!1,disabled:!j,"data-type":"project_id",onChange:r,value:n,name:"project_id",placeholder:"Project ID"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"app_id",children:"App ID"}),(0,D.jsx)(N.Z,{spellCheck:!1,disabled:!j,"data-type":"app_id",onChange:r,value:d,name:"app_id",placeholder:"APP ID"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"app_certificate",children:"APP Certificate"}),(0,D.jsx)(N.Z,{spellCheck:!1,disabled:!j,"data-type":"app_certificate",onChange:r,value:o,name:"app_certificate",placeholder:"APP Certificate"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"customer_id",children:"Customer ID"}),(0,D.jsx)(N.Z,{spellCheck:!1,disabled:!j,"data-type":"customer_id",onChange:r,value:u,name:"customer_id",placeholder:"Customer ID for RESTful API"})]}),(0,D.jsxs)("div",{className:"input",children:[(0,D.jsx)(h.Z,{htmlFor:"customer_secret",children:"Customer Secret"}),(0,D.jsx)(N.Z,{spellCheck:!1,disabled:!j,"data-type":"customer_secret",onChange:r,value:x,name:"customer_secret",placeholder:"Customer Secret for RESTful API"})]})]}),e&&(0,D.jsx)(_.Z,{saveHandler:()=>{const e=s;e.url||(e.url="https://api.agora.io"),i(e)},resetHandler:t})]})}const Fe=[{name:"general",items:[{name:"overview",component:(0,D.jsx)(O,{})},{name:"my_account",component:(0,D.jsx)(n.Z,{})},{name:"members",component:(0,D.jsx)(Be.Z,{}),admin:!0}]},{name:"config",items:[{name:"bot",component:(0,D.jsx)(b.Z,{version:"0.3.2",children:(0,D.jsx)(Pe,{})}),admin:!0},{name:"firebase",component:(0,D.jsx)(J,{})},{name:"agora",component:(0,D.jsx)(b.Z,{version:"0.3.5",children:(0,D.jsx)(Ke,{})})},{name:"smtp",component:(0,D.jsx)(X,{})},{name:"login_method",component:(0,D.jsx)(H,{})},{name:"third_app",component:(0,D.jsx)(q,{})},{name:"widget",component:(0,D.jsx)(he,{})},{name:"license",component:(0,D.jsx)(je,{})}],admin:!0},{name:"about",items:[{name:"api_doc",component:(0,D.jsx)(Ge,{})},{name:"version",component:(0,D.jsx)($e,{})}]}],Ve=()=>{const{t:e}=(0,c.$G)("setting"),{loginUser:t,upgraded:s}=(0,o.CG)((e=>({loginUser:e.authData.user,upgraded:e.server.upgraded})));return Fe.map((t=>{const{name:s,items:a,...l}=t;return{name:s,title:e(`nav.${s}`),items:a.map((t=>{const{name:s,...a}=t;return{name:s,title:e(`nav.${s}`),...a}})),...l}})).filter((e=>!(null===t||void 0===t||!t.is_admin)||("about"==e.name?!s:!e.admin)))};var He=s(24645),Je=s(34400);const Xe=e=>{let{closeModal:t}=e;const{t:s}=(0,c.$G)("auth"),{t:l}=(0,c.$G)(),[i,r]=(0,a.useState)(!1),{logout:n,exited:d,exiting:o,clearLocalData:x}=(0,Je.Z)();return(0,a.useEffect)((()=>{d&&(i&&x(),u.ZP.success(l("tip.logout")))}),[d,i]),(0,D.jsx)(le.Z,{id:"modal-modal",children:(0,D.jsx)(ie.Z,{title:s("logout.title"),description:s("logout.desc"),buttons:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.Z,{className:"cancel",onClick:t,children:l("action.cancel")}),(0,D.jsx)(f.Z,{onClick:()=>{n()},className:"danger",children:o?"Logging out":l("action.logout")})]}),children:(0,D.jsxs)("div",{className:"text-sm text-gray-400 flex justify-end items-center",children:[(0,D.jsx)("label",{htmlFor:"clear_cb",className:"cursor-pointer text-orange-500 mr-3",children:s("logout.clear_local")}),(0,D.jsx)(He.Z,{className:" cursor-pointer",name:"clear_cb",checked:i,onChange:e=>{r(e.target.checked)}})]})})})};let qe="";function et(){const{t:e}=(0,c.$G)(),[t]=(0,l.lr)(),s=Ve(),n=s.map((e=>{let{items:t}=e;return t})).flat(),{nav:d}=(0,i.UO)(),[o,u]=(0,a.useState)(!1),x=(0,i.s0)();qe=qe||(t.get("f")||"/");const j=()=>{u((e=>!e))},M=n.find((e=>e.name==d));return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(r.Z,{nav:M,closeModal:()=>{x(qe),qe=""},title:e("setting"),navs:s,dangers:[{title:e("action.logout"),handler:j}],children:d?null===M||void 0===M?void 0:M.component:null}),o&&(0,D.jsx)(Xe,{closeModal:j})]})}}}]);