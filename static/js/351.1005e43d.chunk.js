"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[351],{48055:(e,t,l)=>{l.d(t,{Z:()=>r});var i,a=l(70537);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},s.apply(this,arguments)}const n=(e,t)=>{let{title:l,titleId:n,...r}=e;return a.createElement("svg",s({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),l?a.createElement("title",{id:n},l):null,i||(i=a.createElement("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#344054",strokeWidth:1.67,strokeLinecap:"round",strokeLinejoin:"round"})))},r=(0,a.forwardRef)(n)},79884:(e,t,l)=>{l.d(t,{Z:()=>r});var i,a=l(70537);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},s.apply(this,arguments)}const n=(e,t)=>{let{title:l,titleId:n,...r}=e;return a.createElement("svg",s({width:20,height:20,viewBox:"0 0 20 20",fill:"#616161",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),l?a.createElement("title",{id:n},l):null,i||(i=a.createElement("path",{d:"M6.48667 11.6667L6.83667 8.33333H3.325V6.66667H7L7.43333 2.5H9.10833L8.66667 6.66667H11.9833L12.4167 2.5H14.0917L13.65 6.66667H16.625V8.33333H13.4667L13.1167 11.6667H16.6167V13.3333H12.9333L12.4917 17.5H10.8083L11.2417 13.3333H7.91667L7.475 17.5H5.8L6.23333 13.3333H3.25V11.6667H6.4H6.48667ZM8.1625 11.6667H11.4875L11.8375 8.33333H8.5125L8.1625 11.6667Z"})))},r=(0,a.forwardRef)(n)},18697:(e,t,l)=>{l.d(t,{Z:()=>o});var i,a,s=l(70537);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},n.apply(this,arguments)}const r=(e,t)=>{let{title:l,titleId:r,...o}=e;return s.createElement("svg",n({width:16,height:12,viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),l?s.createElement("title",{id:r},l):null,i||(i=s.createElement("g",{clipPath:"url(#clip0_9046_23916)"},s.createElement("path",{d:"M4.93942 9.69781L1.62578 6.38648C1.25336 6.01431 0.651746 6.01431 0.27932 6.38648C-0.0931066 6.75865 -0.0931066 7.35984 0.27932 7.73201L4.27096 11.7209C4.64339 12.093 5.245 12.093 5.61743 11.7209L15.7207 1.62465C16.0931 1.25248 16.0931 0.651292 15.7207 0.279125C15.3483 -0.0930417 14.7466 -0.0930417 14.3742 0.279125L4.93942 9.69781Z",fill:"#78787C"}))),a||(a=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_9046_23916"},s.createElement("rect",{width:16,height:12,fill:"white"})))))},o=(0,s.forwardRef)(r)},11972:(e,t,l)=>{l.d(t,{Z:()=>r});var i,a=l(70537);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},s.apply(this,arguments)}const n=(e,t)=>{let{title:l,titleId:n,...r}=e;return a.createElement("svg",s({width:24,height:24,viewBox:"0 0 24 24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),l?a.createElement("title",{id:n},l):null,i||(i=a.createElement("path",{d:"M16.5303 11.7204L16.4462 11.6478C16.1526 11.4299 15.7359 11.4541 15.4697 11.7204L12.7503 14.4397L12.75 7.75003L12.7432 7.64826C12.6935 7.28218 12.3797 7.00003 12 7.00003L11.8982 7.00688C11.5322 7.05654 11.25 7.37033 11.25 7.75003L11.2503 14.4417L8.52961 11.7198L8.4455 11.6472C8.15193 11.4293 7.73527 11.4534 7.46895 11.7196C7.176 12.0124 7.17591 12.4873 7.46875 12.7803L11.4687 16.7818L11.5529 16.8544C11.8465 17.0724 12.2632 17.0482 12.5295 16.7819L16.5303 12.7811L16.6029 12.6969C16.8208 12.4033 16.7966 11.9867 16.5303 11.7204ZM6.25 3C4.45507 3 3 4.45507 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C19.5449 21 21 19.5449 21 17.75V6.25C21 4.45507 19.5449 3 17.75 3H6.25ZM4.5 6.25C4.5 5.2835 5.2835 4.5 6.25 4.5H17.75C18.7165 4.5 19.5 5.2835 19.5 6.25V17.75C19.5 18.7165 18.7165 19.5 17.75 19.5H6.25C5.2835 19.5 4.5 18.7165 4.5 17.75V6.25Z"})))},r=(0,a.forwardRef)(n)},13386:(e,t,l)=>{l.d(t,{Z:()=>p});var i,a,s=l(79884),n=l(70537);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},r.apply(this,arguments)}const o=(e,t)=>{let{title:l,titleId:s,...o}=e;return n.createElement("svg",r({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},o),l?n.createElement("title",{id:s},l):null,i||(i=n.createElement("path",{d:"M6.83667 8.33333L6.48667 11.6667H6.4H3.25V13.3333H6.23333L5.8 17.5H7.475L7.91667 13.3333H11.2417L10.8083 17.5H12.4917L12.9333 13.3333H16.6167V11.6667H13.1167L13.2917 10H11.6625L11.4875 11.6667H8.1625L8.5125 8.33333H10.8334V6.66667H8.66667L9.10833 2.5H7.43333L7 6.66667H3.325V8.33333H6.83667Z",fill:"#616161"})),a||(a=n.createElement("path",{d:"M16.6875 4.16675V3.33341C16.6875 2.40008 15.875 1.66675 15 1.66675C14.125 1.66675 13.3333 2.40008 13.3333 3.33341V4.16675C12.8731 4.16675 12.5 4.53985 12.5 5.00008V7.50008C12.5 7.96031 12.8731 8.33341 13.3333 8.33341H15H16.6667C17.1269 8.33341 17.5 7.96031 17.5 7.50008V4.97925C17.5 4.53051 17.1362 4.16675 16.6875 4.16675ZM15.8333 4.16675H14.1667V3.33341C14.1667 2.85722 14.5556 2.50008 15 2.50008C15.4444 2.50008 15.8333 2.85722 15.8333 3.33341V4.16675Z",fill:"#616161"})))},c=(0,n.forwardRef)(o);var d=l(80683);const p=e=>{let{personal:t=!1,muted:l=!1,className:i=""}=e;return(0,d.jsx)("div",{className:`flex${l?"!text-gray-400 !fill-slate-400":""} ${i}`,children:t?(0,d.jsx)(c,{}):(0,d.jsx)(s.Z,{})})}},12677:(e,t,l)=>{l.d(t,{Z:()=>s});var i=l(70537),a=l(66160);function s(){const[e,t]=(0,i.useState)(""),l=(0,a.CG)((e=>Object.values(e.channels.byId))),[s,n]=(0,i.useState)([]);(0,i.useEffect)((()=>{if(e){let t=["",...e.toLowerCase(),""].join(".*"),i=new RegExp(t);n(l.filter((e=>!!e&&i.test(e.name.toLowerCase()))))}else n(l)}),[e]);return{input:e,channels:s,updateInput:e=>{t(e)}}}},72136:(e,t,l)=>{l.d(t,{Z:()=>s});var i=l(70537),a=l(66160);function s(){const[e,t]=(0,i.useState)(""),l=(0,a.CG)((e=>Object.values(e.users.byId))),[s,n]=(0,i.useState)([]);(0,i.useEffect)((()=>{if(e){let t=["",e.toLowerCase(),""].join(".*"),i=new RegExp(t);n(l.filter((e=>!!e&&i.test(e.name.toLowerCase()))))}else n(l)}),[e]);return{input:e,users:s,updateInput:e=>{t(e)}}}},34351:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ue});var i=l(70537),a=l(18756),s=l.n(a),n=l(57889);const r=n.ZP.div`
  height: 100vh;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  background-color: #fff;
  margin: 8px 24px 10px 0;
  border-radius: 16px;
  .opts {
    padding: 20px 16px;
    display: flex;
    justify-content: space-between;
    width: 100%;
  }
  > .list {
    padding: 0 16px;
    height: 100%;
    overflow-y: scroll;
    width: 100%;
    display: flex;
    &.item {
      gap: 8px;
      flex-direction: column;
    }
    &.grid {
      flex-direction: row;
      flex-wrap: wrap;
      > .file_box {
        flex-direction: column;
        /* margin-right: 8px; */
        margin-bottom: 8px;
      }
    }
  }
`;var o,c=l(80308),d=l(3074),p=l(12564);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},x.apply(this,arguments)}const u=(e,t)=>{let{title:l,titleId:a,...s}=e;return i.createElement("svg",x({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),l?i.createElement("title",{id:a},l):null,o||(o=i.createElement("path",{d:"M2 3.75C2 3.33579 2.33579 3 2.75 3H10.25C10.6642 3 11 3.33579 11 3.75C11 4.16421 10.6642 4.5 10.25 4.5H2.75C2.33579 4.5 2 4.16421 2 3.75ZM2 11.75C2 11.3358 2.33579 11 2.75 11H9.25C9.66421 11 10 11.3358 10 11.75C10 12.1642 9.66421 12.5 9.25 12.5H2.75C2.33579 12.5 2 12.1642 2 11.75ZM2.75 7C2.33579 7 2 7.33579 2 7.75C2 8.16421 2.33579 8.5 2.75 8.5H13.25C13.6642 8.5 14 8.16421 14 7.75C14 7.33579 13.6642 7 13.25 7H2.75Z",fill:"#344054"})))},h=(0,i.forwardRef)(u);var f;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},m.apply(this,arguments)}const g=(e,t)=>{let{title:l,titleId:a,...s}=e;return i.createElement("svg",m({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),l?i.createElement("title",{id:a},l):null,f||(f=i.createElement("path",{d:"M3.5 2C2.67157 2 2 2.67157 2 3.5V5.5C2 6.32843 2.67157 7 3.5 7H5.5C6.32843 7 7 6.32843 7 5.5V3.5C7 2.67157 6.32843 2 5.5 2H3.5ZM10.5 2C9.67157 2 9 2.67157 9 3.5V5.5C9 6.32843 9.67157 7 10.5 7H12.5C13.3284 7 14 6.32843 14 5.5V3.5C14 2.67157 13.3284 2 12.5 2H10.5ZM3.5 9C2.67157 9 2 9.67157 2 10.5V12.5C2 13.3284 2.67157 14 3.5 14H5.5C6.32843 14 7 13.3284 7 12.5V10.5C7 9.67157 6.32843 9 5.5 9H3.5ZM10.5 9C9.67157 9 9 9.67157 9 10.5V12.5C9 13.3284 9.67157 14 10.5 14H12.5C13.3284 14 14 13.3284 14 12.5V10.5C14 9.67157 13.3284 9 12.5 9H10.5Z",fill:"#344054"})))},b=(0,i.forwardRef)(g);var w=l(80683);const v=n.ZP.ul`
  display: flex;
  border: 1px solid #d0d5dd;
  box-shadow: 0 1px 2px rgba(16, 24, 40, 0.05);
  border-radius: 8px;
  box-sizing: border-box;

  .view {
    cursor: pointer;
    padding: 8px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  &.item .item,
  &.grid .grid {
    border: 1px solid #52edff;
    box-shadow: 0 1px 2px rgba(16, 24, 40, 0.05);
    border-radius: 8px;
    svg {
      transition: all 0.2s ease;
      path {
        fill: #52edff;
      }
    }
  }
`;function j(e){let{view:t=c.kO.item}=e;const l=(0,d.I0)(),i=e=>{const{view:i}=e.currentTarget.dataset;i!=t&&l((0,p.In)(t==c.kO.item?c.kO.grid:c.kO.item))};return(0,w.jsxs)(v,{className:t,children:[(0,w.jsx)("li",{className:"view item","data-view":c.kO.item,onClick:i,children:(0,w.jsx)(h,{})}),(0,w.jsx)("li",{className:"view grid","data-view":c.kO.grid,onClick:i,children:(0,w.jsx)(b,{})})]})}var y=l(14566),C=l(10562);const N=n.ZP.div`
  width: 100%;
  padding: 6px 16px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
  &.embed {
    padding: 6px 8px;
    box-shadow: none;
  }
  .search {
    outline: none;
    background-color: rgba(0, 0, 0, 0.08);
    border-radius: 25px;
    padding: 10px 8px 10px 36px;
    color: #a1a1aa;
    font-weight: 400;
    font-size: 14px;
    line-height: 20px;
    background-image: url(${C});
    background-repeat: no-repeat;
    background-position: 8px center;
  }
`,k=e=>{let{value:t="",updateSearchValue:l=null,embed:i=!1}=e;const{t:a}=(0,y.$G)();return(0,w.jsx)(N,{className:i?"embed":"",children:(0,w.jsx)("input",{value:t,onChange:e=>{l&&l(e.target.value)},className:"search",placeholder:`${a("action.search")}...`})})};var Z=l(7829),H=l(64631),L=l(18697);const O=n.ZP.div`
  padding: 12px;
  background: #ffffff;
  min-width: 200px;
  overflow: auto;
  box-shadow: 0px 24px 48px -12px rgba(16, 24, 40, 0.18);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  > .list {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
    .date {
      position: relative;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 16px;
      color: #616161;
      font-weight: 600;
      font-size: 14px;
      line-height: 20px;
      .check {
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }
    }
  }
`,E={today:{title:"Today",duration:2222},in7d:{title:"Last 7 Days"},in30d:{title:"Last 30 Days"},in3m:{title:"Last 3 months"},in12m:{title:"Last 12 months"}},V=e=>{let{select:t="",updateFilter:l}=e;const i=e=>{l({date:e})};return(0,w.jsx)(O,{children:(0,w.jsxs)("ul",{className:"list",children:[(0,w.jsxs)("li",{className:"date",onClick:i.bind(null,void 0),children:["Any Time",!t&&(0,w.jsx)(L.Z,{className:"check"})]}),Object.entries(E).map((e=>{let[l,{title:a}]=e;return(0,w.jsxs)("li",{className:"date",onClick:i.bind(null,l),children:[a,t==l&&(0,w.jsx)(L.Z,{className:"check"})]},a)}))]})})};var M=l(33941),_=l(72136);const P=n.ZP.div`
  padding: 0 4px 4px 4px;
  background: #ffffff;
  max-height: 300px;
  overflow: auto;
  box-shadow: 0 24px 48px -12px rgba(16, 24, 40, 0.18);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  > .search {
    z-index: 1;
    background-color: #fff;
    position: sticky;
    top: 0;
    input {
      z-index: 2;
    }
  }
  > .list {
    width: 100%;
    display: flex;
    flex-direction: column;
    .user {
      position: relative;
      cursor: pointer;
      &.none {
        padding: 10px;
        font-weight: 600;
        font-size: 14px;
        line-height: 20px;
        color: #616161;
      }
      .check {
        position: absolute;
        right: 6px;
        top: 50%;
        transform: translateY(-50%);
      }
    }
  }
`,I=e=>{let{select:t="",updateFilter:l}=e;const{input:i,updateInput:a,users:s}=(0,_.Z)(),n=e=>{l({from:e})};return(0,w.jsxs)(P,{children:[(0,w.jsx)("div",{className:"search",children:(0,w.jsx)(k,{embed:!0,value:i,updateSearchValue:a})}),(0,w.jsxs)("ul",{className:"list",children:[(0,w.jsxs)("li",{className:"user none",onClick:n.bind(null,void 0),children:["Anyone",!t&&(0,w.jsx)(L.Z,{className:"check"})]}),s.map((e=>{let{uid:l}=e;return(0,w.jsxs)("li",{className:"user",onClick:n.bind(null,l),children:[(0,w.jsx)(M.Z,{uid:l,interactive:!0}),t==l&&(0,w.jsx)(L.Z,{className:"check"})]},l)}))]})]})};var z=l(13386),$=l(12677);const S=n.ZP.div`
  padding: 0 4px 4px 4px;
  background: #ffffff;
  max-height: 400px;
  overflow: auto;
  box-shadow: 0 24px 48px -12px rgba(16, 24, 40, 0.18);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  > .search {
    z-index: 1;
    background-color: #fff;
    position: sticky;
    top: 0;
    input {
      z-index: 2;
    }
  }
  > .list {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
    padding: 8px;
    .channel {
      position: relative;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      .name {
        color: #616161;
        font-weight: 600;
        font-size: 14px;
        line-height: 20px;
      }
      .check {
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }
    }
  }
`,F=e=>{let{select:t=0,updateFilter:l}=e;const{input:i,updateInput:a,channels:s}=(0,$.Z)(),n=e=>{l({channel:e})};return(0,w.jsxs)(S,{children:[(0,w.jsx)("div",{className:"search",children:(0,w.jsx)(k,{embed:!0,value:i,updateSearchValue:a})}),(0,w.jsxs)("ul",{className:"list",children:[(0,w.jsxs)("li",{className:"channel",onClick:n.bind(null,void 0),children:[(0,w.jsx)(z.Z,{}),(0,w.jsx)("span",{className:"name",children:"Any Channel"}),!t&&(0,w.jsx)(L.Z,{className:"check"})]}),s.map((e=>{let{gid:l,is_public:i,name:a}=e;return(0,w.jsxs)("li",{className:"channel",onClick:n.bind(null,l),children:[(0,w.jsx)(z.Z,{personal:!i}),(0,w.jsx)("span",{className:"name",children:a}),t==l&&(0,w.jsx)(L.Z,{className:"check"})]},l)}))]})]})};var R=l(50806),B=l(20814),G=l(8969),T=l(26906),A=l(98099),D=l(43768),W=l(31271);const Y={doc:{title:"Documents",icon:(0,w.jsx)(A.Z,{className:"w-4 h-auto"})},pdf:{title:"PDFs",icon:(0,w.jsx)(R.Z,{className:"w-4 h-auto"})},image:{title:"Images",icon:(0,w.jsx)(W.Z,{className:"w-4 h-auto"})},audio:{title:"Audio",icon:(0,w.jsx)(B.Z,{className:"w-4 h-auto"})},video:{title:"Videos",icon:(0,w.jsx)(G.Z,{className:"w-4 h-auto"})},code:{title:"Code Snippets",icon:(0,w.jsx)(D.Z,{className:"w-4 h-auto"})},unknown:{title:"Unknown Files",icon:(0,w.jsx)(T.Z,{className:"w-4 h-auto"})}},U=e=>{let{select:t="",updateFilter:l}=e;const i=e=>{l({type:e})};return(0,w.jsx)("div",{className:"p-3 bg-white min-w-[100px] overflow-auto shadow-md rounded-lg flex flex-col items-start relative",children:(0,w.jsxs)("ul",{className:"w-full flex flex-col gap-4",children:[(0,w.jsxs)("li",{className:"flex justify-between",onClick:i.bind(null,void 0),children:["Any Type",!t&&(0,w.jsx)(L.Z,{className:"check"})]}),Object.entries(Y).map((e=>{let[l,{title:a,icon:s}]=e;return(0,w.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2 text-sm text-gray-500 font-semibold",onClick:i.bind(null,l),children:[s," ",a,t==l&&(0,w.jsx)(L.Z,{className:"absolute right-0 left-1/2 -translate-y-1/2"})]},a)}))]})})};var q=l(48055),J=l(66160);const K=n.ZP.div`
  /* padding: 20px 0; */
  display: flex;
  align-items: center;
  gap: 8px;
  .filter {
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    border: 1px solid #d0d5dd;
    box-sizing: border-box;
    box-shadow: 0 1px 2px rgba(16, 24, 40, 0.05);
    border-radius: var(--br);
    padding: 7px 12px;
    font-weight: 500;
    font-size: 12px;
    line-height: 18px;
    &.selected {
      border: none;
      color: #fff;
      background-color: #22ccee;
      .arrow path {
        stroke: #fff;
      }
    }
    .avatar {
      width: 16px;
      height: 16px;
      border-radius: 50%;
    }
  }
`;function Q(e){let{filter:t,updateFilter:l}=e;const{t:a}=(0,y.$G)("file"),[s,n]=(0,i.useState)({channel:!1,date:!1,from:!1,type:!1}),r=e=>{n((t=>({...t,...e})))},o=e=>{l(e);let t=Object.keys(e)[0];r({[t]:!1})},{userMap:c,channelMap:d}=(0,J.CG)((e=>({userMap:e.users.byId,channelMap:e.channels.byId}))),{from:p,channel:x,type:u,date:h}=t,{channel:f,date:m,type:g,from:b}=s;return(0,w.jsxs)(K,{children:[(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:r.bind(null,{from:!1}),visible:b,placement:"bottom-start",content:(0,w.jsx)(I,{select:t.from,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${p&&"selected"}`,onClick:r.bind(null,{from:!0}),children:[p&&(0,w.jsx)(H.Z,{width:16,height:16,className:"avatar",name:c[p].name,src:c[p].avatar}),(0,w.jsxs)("span",{className:"txt",children:[a("from")," ",p&&c[p].name]}),(0,w.jsx)(q.Z,{className:"arrow"})]})}),(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:r.bind(null,{channel:!1}),visible:f,placement:"bottom-start",content:(0,w.jsx)(F,{select:t.channel,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${x&&"selected"}`,onClick:r.bind(null,{channel:!0}),children:[(0,w.jsx)("span",{className:"txt",children:x?`In ${d[x].name}`:a("channel")}),(0,w.jsx)(q.Z,{className:"arrow"})]})}),(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:r.bind(null,{type:!1}),visible:g,placement:"bottom-start",content:(0,w.jsx)(U,{select:t.type,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${u&&"selected"}`,onClick:r.bind(null,{type:!0}),children:[(0,w.jsx)("span",{className:"txt",children:u?Y[u].title:a("type")}),(0,w.jsx)(q.Z,{className:"arrow"})]})}),(0,w.jsx)(Z.ZP,{interactive:!0,onClickOutside:r.bind(null,{date:!1}),visible:m,placement:"bottom-start",content:(0,w.jsx)(V,{select:t.date,updateFilter:o}),children:(0,w.jsxs)("div",{className:`filter ${h&&"selected"}`,onClick:r.bind(null,{date:!0}),children:[(0,w.jsx)("span",{className:"txt",children:h?E[h].title:a("date")}),(0,w.jsx)(q.Z,{className:"arrow"})]})})]})}var X=l(7699),ee=l.n(X);const te=n.ZP.div`
  background: #f3f4f6;
  border: 1px solid #d4d4d4;
  box-sizing: border-box;
  border-radius: 6px;
  width: 370px;
  height: 66px;
  * {
    user-select: text;
  }
  &.flex {
    width: 100%;
  }
  &.preview {
    position: relative;
    overflow: hidden;
    height: 281px;
    &.audio {
      height: 125px;
    }
  }
  .basic {
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    .icon {
      width: 36px;
      height: 48px;
    }
    .info {
      display: flex;
      flex-direction: column;
      gap: 4px;
      width: 100%;
      overflow: hidden;
      .name {
        font-weight: 600;
        font-size: 14px;
        line-height: 20px;
        color: #1c1c1e;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
      .details {
        font-weight: 400;
        font-size: 12px;
        line-height: 18px;
        color: #616161;
        display: flex;
        gap: 16px;
        .from strong {
          font-weight: bold;
        }
      }
    }
    .download {
      white-space: nowrap;
    }
  }
  .preview {
    height: calc(100% - 64px);
    overflow: hidden;
    /* todo */
  }
`,le=e=>{let{url:t}=e;return(0,w.jsx)("div",{className:"h-[218px]",children:(0,w.jsx)("video",{className:"w-full h-full object-cover",controls:!0,src:t})})},ie=e=>{let{url:t}=e;const[l,a]=(0,i.useState)(!1);return t?(0,w.jsx)("div",{className:"flex-center h-full",children:l?(0,w.jsx)("div",{className:"p-[18px] text-base text-gray-500",children:"Unable to play this audio"}):(0,w.jsx)("audio",{className:"w-full",controls:!0,src:t,onError:e=>{a(!0)}})}):null},ae=e=>{let{url:t,alt:l}=e;return(0,w.jsx)("div",{className:"h-[218px] overflow-hidden",children:(0,w.jsx)("img",{className:"w-full h-full object-cover",src:t,alt:l})})},se=e=>{let{url:t}=e;return(0,w.jsx)("div",{className:"p-2 overflow-hidden",children:(0,w.jsx)("embed",{className:"w-full h-full",src:t,type:"application/pdf"})})},ne=e=>{let{url:t}=e;const[l,a]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async e=>{if(!e)return;const t=await fetch(e),l=await t.text();a(l)})(t)}),[t]),l?(0,w.jsx)("div",{className:"h-[218px] p-[15px] pb-0 bg-black text-white overflow-scroll whitespace-pre-wrap break-all leading-snug",children:l}):null},re=e=>{let{url:t}=e;const[l,a]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async e=>{if(!e)return;const t=await fetch(e),l=await t.text();a(l)})(t)}),[t]),l?(0,w.jsx)("div",{className:"bg-white h-[218px] p-[15px] pb-0 whitespace-pre-wrap break-all",children:l}):null};var oe=l(21812),ce=l(11972);const de=e=>{let{preview:t,flex:l,file_type:i,name:a,size:s,created_at:n,from_uid:r,content:o}=e;const c=(0,J.CG)((e=>e.users.byId[r])),d=(0,oe.LP)(i,a);if(!o||!c||!a)return null;const p=(e=>{const{file_type:t,name:l,content:i}=e;let a=null;const s={image:/^image/gi,audio:/^audio/gi,video:/^video/gi,code:/(json|javascript|java|rb|c|php|xml|css|html)$/gi,doc:/^text/gi,pdf:/\/pdf$/gi},n=l.split("."),r=t||n[n.length-1];switch(!0){case s.image.test(r):a=(0,w.jsx)(ae,{url:i});break;case s.pdf.test(r):a=(0,w.jsx)(se,{url:i});break;case s.code.test(r):a=(0,w.jsx)(ne,{url:i});break;case s.doc.test(r):a=(0,w.jsx)(re,{url:i});break;case s.audio.test(r):a=(0,w.jsx)(ie,{url:i});break;case s.video.test(r):a=(0,w.jsx)(le,{url:i})}return a})({file_type:i,content:o,name:a}),x=t&&p;return(0,w.jsxs)(te,{className:`file_box ${l?"flex":""} ${x?"preview":""} ${i.startsWith("audio")?"audio":""}`,children:[(0,w.jsxs)("div",{className:"basic",children:[d,(0,w.jsxs)("div",{className:"info",children:[(0,w.jsx)("span",{className:"name",children:a}),(0,w.jsxs)("span",{className:"details",children:[(0,w.jsx)("i",{className:"size",children:(0,oe.td)(s)}),(0,w.jsx)("i",{className:"time",children:ee()(n).fromNow()}),(0,w.jsxs)("i",{className:"from",children:["by ",(0,w.jsx)("strong",{children:c.name})]})]})]}),(0,w.jsx)("a",{className:"download",download:a,href:`${o}&download=true`,children:(0,w.jsx)(ce.Z,{})})]}),x&&(0,w.jsx)("div",{className:"preview",children:p})]})};let pe;function xe(e){let{fileMessages:t}=e;const l=(0,i.useRef)(),[a,n]=(0,i.useState)({}),{message:o,view:d,channelMessage:p}=(0,J.CG)((e=>({message:e.message,channelMessage:e.channelMessage,view:e.ui.fileListView})));return(0,i.useEffect)((()=>{if(d==c.kO.grid&&l){const e=l.current;if(!e)return;const t=e.getBoundingClientRect().width-32,i=Math.floor(t/368),a=t%368,n=Math.max(Math.floor(a/(i-1)),8);pe=new(s())(e,{fitWidth:!0,gutter:n,itemSelector:".file_box"})}else pe&&pe.destroy()}),[d,a]),(0,w.jsxs)(r,{children:[(0,w.jsx)(k,{value:a.name,updateSearchValue:e=>{n((t=>({...t,name:e})))}}),(0,w.jsx)("div",{className:"divider"}),(0,w.jsxs)("div",{className:"opts",children:[(0,w.jsx)(Q,{filter:a,updateFilter:e=>{n((t=>({...t,...e})))}}),(0,w.jsx)(j,{view:d})]}),(0,w.jsx)("div",{className:`list ${d}`,ref:l,children:t.map((e=>{const t=o[e];if(!t)return null;const l=((e,t,l)=>{let i=!0;const{mid:a,file_type:s,created_at:n,from_uid:r,properties:o}=e,{name:c,type:d,date:p,from:x,channel:u}=t,h=o?o.name:"";if(x&&x!=r&&(i=!1),u&&-1==l[u].findIndex((e=>e==a))&&(i=!1),c){let e=["",...c.toLowerCase(),""].join(".*");new RegExp(e).test(h)||(i=!1)}return i})(t,a,p);if(!l)return null;const{mid:i,content:s,created_at:n,from_uid:r,properties:x}=t,{name:u,content_type:h,size:f}=null!==x&&void 0!==x?x:{};return(0,w.jsx)(de,{preview:d==c.kO.grid,flex:d==c.kO.item,file_type:h,content:s,created_at:n,from_uid:r,size:f,name:u},i)}))})]})}const ue=(0,i.memo)(xe,((e,t)=>{return l=e.fileMessages,i=t.fileMessages,l.length===i.length&&l.every(((e,t)=>e==i[t]));var l,i}))},10562:(e,t,l)=>{e.exports=l.p+"static/media/search.c3b5992b6af18a20b3ce.svg"}}]);