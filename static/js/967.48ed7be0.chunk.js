"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[967],{25552:(e,t,r)=>{r.d(t,{Z:()=>o});var n,a=r(70537);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const l=(e,t)=>{let{title:r,titleId:l,...o}=e;return a.createElement("svg",s({width:14,height:15,viewBox:"0 0 14 15",fill:"black",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},o),r?a.createElement("title",{id:l},r):null,n||(n=a.createElement("path",{d:"M7 6.7929L10.5355 3.25736C10.7308 3.0621 11.0474 3.0621 11.2426 3.25736C11.4379 3.45262 11.4379 3.76921 11.2426 3.96447L7.70711 7.5L11.2426 11.0355C11.4379 11.2308 11.4379 11.5474 11.2426 11.7426C11.0474 11.9379 10.7308 11.9379 10.5355 11.7426L7 8.20711L3.46447 11.7426C3.26921 11.9379 2.95262 11.9379 2.75736 11.7426C2.5621 11.5474 2.5621 11.2308 2.75736 11.0355L6.2929 7.5L2.75736 3.96447C2.5621 3.76921 2.5621 3.45262 2.75736 3.25736C2.95262 3.0621 3.26921 3.0621 3.46447 3.25736L7 6.7929Z",fillOpacity:.8})))},o=(0,a.forwardRef)(l)},28533:(e,t,r)=>{r.d(t,{Z:()=>o});var n,a=r(70537);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const l=(e,t)=>{let{title:r,titleId:l,...o}=e;return a.createElement("svg",s({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},o),r?a.createElement("title",{id:l},r):null,n||(n=a.createElement("path",{d:"M13.7036 5.75927L18.2405 10.2962L9.33146 19.2052C9.08325 19.4534 8.77457 19.6325 8.43593 19.7249L3.84998 20.9756C3.34808 21.1124 2.88755 20.6519 3.02443 20.15L4.27515 15.5641C4.3675 15.2254 4.54664 14.9167 4.79484 14.6685L13.7036 5.75927ZM20.0604 3.93956C21.3132 5.19232 21.3132 7.22343 20.0604 8.47618L19.1907 9.34506L14.6538 4.80903L15.5238 3.93956C16.7766 2.68681 18.8077 2.68681 20.0604 3.93956Z"})))},o=(0,a.forwardRef)(l)},94727:(e,t,r)=>{r.d(t,{Z:()=>d});var n,a,s=r(70537);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}const o=(e,t)=>{let{title:r,titleId:o,...d}=e;return s.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#78787c",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgb(120, 120, 124)"},ref:t,"aria-labelledby":o},d),r?s.createElement("title",{id:o},r):null,n||(n=s.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"})),a||(a=s.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})))},d=(0,s.forwardRef)(o)},19747:(e,t,r)=>{r.d(t,{Z:()=>d});var n,a,s=r(70537);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}const o=(e,t)=>{let{title:r,titleId:o,...d}=e;return s.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#78787c",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgb(120, 120, 124)"},ref:t,"aria-labelledby":o},d),r?s.createElement("title",{id:o},r):null,n||(n=s.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"})),a||(a=s.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})))},d=(0,s.forwardRef)(o)},97601:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(70537),a=r(10336);const s=e=>{let{id:t="root-modal",mask:r=!0,children:s}=e;const[l,o]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=document.getElementById(t);if(!e)return;r&&e.classList.add("mask");const n=document.createElement("div");return n.classList.add("wrapper"),e.appendChild(n),o(n),()=>{e.removeChild(n)}}),[t,r]),l?(0,a.createPortal)(s,l):null}},95080:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(14566),a=r(26602),s=r(66160),l=r(80683);const o=e=>{let{empty:t=!1,version:r,children:o}=e;const{t:d}=(0,n.$G)(),i=(0,s.CG)((e=>e.server.version));if(!i)return null;return(0,a.yC)(i,r)<0?t?null:(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-start border border-solid border-orange-500 p-3 rounded-lg w-fit",children:[(0,l.jsx)("span",{className:"text-gray-400 text-sm",children:(0,l.jsx)(n.cC,{i18nKey:"server_update.version_needed",children:(0,l.jsx)("strong",{className:"font-bold",children:{version:r}})})}),(0,l.jsx)("span",{className:"text-gray-400 text-sm",children:(0,l.jsx)(n.cC,{i18nKey:"server_update.current_version",children:(0,l.jsx)("strong",{className:"font-bold",children:{version:i}})})}),(0,l.jsx)("span",{className:"text-gray-400 text-sm",children:d("server_update.update_tip")}),(0,l.jsxs)("a",{className:"text-blue-500 underline",href:"https://doc.voce.chat/install/install-by-docker#update-vocechat-docker",target:"_blank",rel:"noopener noreferrer",children:[d("server_update.howto"),"  \ud83d\udcd6 "]})]}):o}},33478:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(7829),a=r(57425),s=r(26602),l=r(80683);const o=e=>{let{placement:t}=e;if("left"==t)return null;const r=(0,a.Z)("w-3 h-3 bg-inherit absolute rounded-[1px] origin-center rotate-45","right"==t&&"left-0 top-1/2 -translate-x-1/2 -translate-y-1/2","top"==t&&"left-1/2 bottom-0 -translate-x-1/2 translate-y-1/2","bottom"==t&&"top-0 left-1/2 -translate-x-1/2 -translate-y-1/2");return(0,l.jsx)("i",{className:r})},d=e=>{let{tip:t="",placement:r="right",delay:a=null,children:d,...i}=e;return(0,l.jsx)(n.ZP,{disabled:(0,s.tq)(),offset:[0,18],duration:a?[300,250]:0,delay:null!==a&&void 0!==a?a:[150,0],placement:r,content:(0,l.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 px-3 py-2 text-xs rounded-lg drop-shadow text-gray-700 dark:text-gray-100",children:[(0,l.jsx)(o,{placement:r}),t]}),...i,children:d})}},31642:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(80683);function a(e){const{className:t}=e;return(0,n.jsx)("input",{readOnly:!0,...e,type:"checkbox",className:`checkbox w-5 h-5 rounded-md border border-solid border-slate-300 checked:border-primary-400 disabled:opacity-40 ${t}`})}},99487:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(57425),a=r(70537),s=r(19747),l=r(94727),o=r(80683);const d=e=>{let{type:t="text",prefix:r="",className:d="",...i}=e;const[c,p]=(0,a.useState)(t),u=d.includes("large"),h=d.includes("none"),m="password"==t,g=(0,n.Z)("w-full bg-white dark:bg-gray-800 text-sm text-gray-800 dark:text-gray-200 p-2 outline-none \n  disabled:text-gray-500 disabled:bg-gray-100 \n  dark:disabled:text-gray-500 \n  dark:disabled:bg-gray-800/50\n  dark:disabled:border-gray-600 \n  placeholder:text-gray-400",u&&"py-3",h&&"!border-none bg-transparent shadow-none",m&&"pr-[30px]");return"password"==t?(0,o.jsxs)("div",{className:`w-full relative flex overflow-hidden rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm ${d}`,children:[(0,o.jsx)("input",{type:c,autoComplete:"password"==c?"current-password":"on",className:`${g} ${d}`,...i}),(0,o.jsx)("div",{className:"absolute top-1/2 right-2.5 -translate-y-1/2 cursor-pointer",onClick:()=>{p((e=>"password"==e?"text":"password"))},children:"password"==c?(0,o.jsx)(l.Z,{className:"fill-gray-500"}):(0,o.jsx)(s.Z,{className:"fill-gray-500"})})]}):r?(0,o.jsxs)("div",{className:`w-full relative flex overflow-hidden rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm ${d}`,children:["string"===typeof r?(0,o.jsx)("span",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 shadow-[rgb(0_0_0_/_10%)_-1px_0px_0px_inset]",children:r}):(0,o.jsx)("span",{className:"flex-center p-2 bg-gray-100 dark:bg-gray-800 ",children:r}),(0,o.jsx)("input",{className:`${g} ${d}`,type:t,...i})]}):(0,o.jsx)("input",{type:c,className:`${g} rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm ${d}`,...i})}},3975:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(70537),a=r(66160);function s(){const[e,t]=(0,n.useState)(""),{originUsers:r,enableContact:s}=(0,a.CG)((e=>({enableContact:e.server.contact_verification_enable,originUsers:Object.values(e.users.byId)}))),[l,o]=(0,n.useState)([]),d=s?r.filter((e=>"added"==e.status)):r;(0,n.useEffect)((()=>{if(e){let t=["",e.toLowerCase(),""].join(".*"),r=new RegExp(t);o(d.filter((e=>!!e&&r.test(e.name.toLowerCase()))))}else o(d)}),[e,d.length]);return{input:e,users:l,updateInput:e=>{t(e)}}}},47433:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Z});var n=r(70537),a=r(15924),s=r(64084),l=r(3074),o=r(24007),d=r(12564),i=r(7829),c=r(59691),p=r(28595),u=r(14566),h=r(66160),m=r(26602),g=r(33478),f=r(1047),x=r(80683);const b=e=>{let{input:t,updateInput:r,openModal:n}=e;const a=(0,h.CG)((e=>e.server.version)),{t:s}=(0,u.$G)(),l=(0,m.yC)(a,"0.3.7")>=0;return(0,x.jsxs)("div",{className:"hidden md:flex relative min-h-[56px] px-2 py-3 items-center justify-between gap-2 shadow-[rgb(0_0_0_/_10%)_0px_1px_0px] dark:border-b-gray-500",children:[(0,x.jsxs)("div",{className:"flex items-center gap-1",children:[(0,x.jsx)(c.Z,{className:"dark:fill-gray-400 w-6 h-6 shrink-0"}),(0,x.jsx)("input",{value:t,placeholder:`${s("action.search")}...`,className:"w-full text-sm bg-transparent dark:text-gray-50 outline-none",onChange:e=>{r(e.target.value)}})]}),l?(0,x.jsx)(p.Z,{onClick:n,role:"button",className:"dark:fill-gray-400"}):(0,x.jsx)(g.Z,{tip:s("more"),placement:"bottom",children:(0,x.jsx)(i.ZP,{interactive:!0,placement:"bottom-end",trigger:"click",content:(0,x.jsx)(f.Z,{}),children:(0,x.jsx)(p.Z,{role:"button",className:"dark:fill-gray-400"})})})]})};var y=r(65487),v=r(62846),w=r(11782),j=r(3975),k=r(57425),_=r(16188),C=r(78952);function N(){const e=(0,n.useRef)(null),t=(0,l.I0)(),{pathname:r}=(0,a.TH)(),[i,c]=(0,n.useState)(!1),{input:p,updateInput:u,users:h}=(0,j.Z)(),{user_id:m}=(0,a.UO)();(0,n.useEffect)((()=>(t((0,d.cp)({key:"user"})),()=>{t((0,d.cp)({key:"user",path:r}))})),[r]);const g=()=>{c((e=>!e))};if(!h)return null;const f=!!m;return(0,x.jsxs)("div",{className:(0,k.Z)("flex h-screen md:h-full md:pt-2 md:pb-2.5 md:pr-12"),children:[(0,x.jsxs)("div",{className:(0,k.Z)("md:rounded-l-2xl bg-white dark:bg-gray-800 relative flex flex-col w-full md:w-auto md:min-w-[268px] shadow-[inset_-1px_0px_0px_rgba(0,_0,_0,_0.1)]",f&&"hidden md:flex"),children:[(0,x.jsx)(b,{input:p,updateInput:u,openModal:g}),i&&(0,x.jsx)(C.Z,{closeModal:g}),(0,x.jsx)("div",{className:"flex flex-col md:gap-1 px-2 pt-3 pb-20 md:py-3 overflow-scroll",ref:e,children:(0,x.jsx)(o.b,{viewportRef:e,items:h.map((e=>{let{uid:t}=e;return t})),children:e=>(0,x.jsx)(s.OL,{className:e=>{let{isActive:t}=e;return"rounded-md md:hover:bg-gray-500/10 "+(t?"bg-gray-500/10":"")},to:`/users/${e}`,children:(0,x.jsx)(y.Z,{uid:e,enableContextMenu:!0})},e)})})]}),(0,x.jsxs)("div",{className:(0,k.Z)("md:rounded-r-2xl bg-white w-full flex justify-center items-start dark:bg-gray-700",!m&&"h-full items-center",!f&&"hidden md:flex"),children:[f?(0,x.jsx)(v.Z,{uid:+m}):(0,x.jsx)(w.Z,{type:"user"}),(0,x.jsx)(_.Z,{})]})]})}const Z=(0,n.memo)(N)},24533:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(70537),a=r(24532);function s(e,t,r){if(0===n.Children.count(e.props.children))return e;const l=[];n.Children.forEach(e.props.children,(e=>{"string"===typeof e?l.push.apply(l,function(e,t,r){const s=(0,a.wS)(e),l=[];for(let o=0;o<s.length;o++){const e=s[o];if("nl"===e.t&&t.get("nl2br")){const e="__linkify-el-"+r.elementId++;l.push(n.createElement("br",{key:e}))}else if(e.isLink&&t.check(e)){let s=t.render(e);if(!("key"in s.props)){const e="__linkify-el-"+r.elementId++,t=a.YM.assign({key:e},s.props);s=n.cloneElement(s,t)}l.push(s)}else l.push(e.toString())}return l}(e,t,r)):n.isValidElement(e)?"string"===typeof e.type&&t.ignoreTags.indexOf(e.type.toUpperCase())>=0?l.push(e):l.push(s(e,t,r)):l.push(e)}));const o="__linkify-el-"+r.elementId++,d=a.YM.assign({key:o},e.props);return n.cloneElement(e,d,l)}const l=e=>{let t=0;const r={key:"__linkify-wrapper"};for(const n in e)"options"!==n&&"as"!==n&&"tagName"!==n&&"children"!==n&&(r[n]=e[n]);const l=new a.Ei(e.options,(e=>{let{tagName:r,attributes:a,content:s}=e;return a.key="__linkify-lnk-"+t++,a.class&&(a.className=a.class,delete a.class),n.createElement(r,a,s)})),o=e.as||e.tagName||n.Fragment||"span",d=e.children;return s(n.createElement(o,r,d),l,{elementId:0})}},97943:(e,t,r)=>{r.d(t,{O:()=>s});var n=r(70537),a=r(2978);function s(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=(0,n.useRef)(t),l=(0,n.useCallback)((t=>{e.current&&!e.current.contains(t.target)&&s.current(t)}),[e]);(0,n.useEffect)((()=>{s.current=t})),(0,n.useEffect)((()=>r?(document.addEventListener("click",l,!0),document.addEventListener("ontouchstart",l,!0),()=>{document.removeEventListener("click",l,!0),document.removeEventListener("ontouchstart",l,!0)}):a.Z),[e,t,r,l])}},2978:(e,t,r)=>{r.d(t,{Z:()=>n});const n=()=>{}}}]);