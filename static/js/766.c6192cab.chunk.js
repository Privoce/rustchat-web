"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[766],{79884:(e,t,n)=>{n.d(t,{Z:()=>s});var l,r=n(70537);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},a.apply(this,arguments)}const i=(e,t)=>{let{title:n,titleId:i,...s}=e;return r.createElement("svg",a({width:20,height:20,viewBox:"0 0 20 20",fill:"#616161",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,l||(l=r.createElement("path",{d:"M6.48667 11.6667L6.83667 8.33333H3.325V6.66667H7L7.43333 2.5H9.10833L8.66667 6.66667H11.9833L12.4167 2.5H14.0917L13.65 6.66667H16.625V8.33333H13.4667L13.1167 11.6667H16.6167V13.3333H12.9333L12.4917 17.5H10.8083L11.2417 13.3333H7.91667L7.475 17.5H5.8L6.23333 13.3333H3.25V11.6667H6.4H6.48667ZM8.1625 11.6667H11.4875L11.8375 8.33333H8.5125L8.1625 11.6667Z"})))},s=(0,r.forwardRef)(i)},25552:(e,t,n)=>{n.d(t,{Z:()=>s});var l,r=n(70537);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},a.apply(this,arguments)}const i=(e,t)=>{let{title:n,titleId:i,...s}=e;return r.createElement("svg",a({width:14,height:15,viewBox:"0 0 14 15",fill:"black",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,l||(l=r.createElement("path",{d:"M7 6.7929L10.5355 3.25736C10.7308 3.0621 11.0474 3.0621 11.2426 3.25736C11.4379 3.45262 11.4379 3.76921 11.2426 3.96447L7.70711 7.5L11.2426 11.0355C11.4379 11.2308 11.4379 11.5474 11.2426 11.7426C11.0474 11.9379 10.7308 11.9379 10.5355 11.7426L7 8.20711L3.46447 11.7426C3.26921 11.9379 2.95262 11.9379 2.75736 11.7426C2.5621 11.5474 2.5621 11.2308 2.75736 11.0355L6.2929 7.5L2.75736 3.96447C2.5621 3.76921 2.5621 3.45262 2.75736 3.25736C2.95262 3.0621 3.26921 3.0621 3.46447 3.25736L7 6.7929Z",fillOpacity:.8})))},s=(0,r.forwardRef)(i)},64631:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(21812),r=n(80683);function a(e){return e<=16?8:e<=24?12:e<=32?16:e<=40?18:e<=56?22:e<=80?48:64}const i=e=>{let{src:t="",name:n="Deleted User",type:i="user",width:s,height:o,...c}=e;return t&&0!==t.length?(0,r.jsx)("img",{src:t,...c}):(0,r.jsx)("div",{className:`rounded-full flex-center ${c.className||""}`,style:{width:s,height:o,fontSize:a(s),fontWeight:400,fontFamily:"'Lato', 'Lato-Regular', 'Helvetica Neue'",background:"channel"===i?"#EAECF0":"#4c99e9",color:"channel"===i?"#475467":"#FFFFFF"},children:(0,l.Qm)(n)})}},80874:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(70537),r=n(10336);const a=e=>{let{id:t="root-modal",mask:n=!0,children:a}=e;const[i,s]=(0,l.useState)(null);return(0,l.useEffect)((()=>{const e=document.getElementById(t);if(!e)return;n&&e.classList.add("mask");const l=document.createElement("div");return l.classList.add("wrapper"),e.appendChild(l),s(l),()=>{e.removeChild(l)}}),[t,n]),i?(0,r.createPortal)(a,i):null}},78468:(e,t,n)=>{n.d(t,{Z:()=>C});var l,r=n(70537),a=n(64084),i=n(7829);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},s.apply(this,arguments)}const o=(e,t)=>{let{title:n,titleId:a,...i}=e;return r.createElement("svg",s({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,l||(l=r.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.3596 22 8.77516 21.6039 7.35578 20.8583L3.06538 21.9753C2.6111 22.0937 2.1469 21.8213 2.02858 21.367C1.99199 21.2266 1.99198 21.0791 2.02855 20.9386L3.1449 16.6502C2.3972 15.2294 2 13.6428 2 12C2 6.47715 6.47715 2 12 2Z",fill:"#22CCEE"})))},c=(0,r.forwardRef)(o);var d;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},u.apply(this,arguments)}const m=(e,t)=>{let{title:n,titleId:l,...a}=e;return r.createElement("svg",u({width:24,height:24,viewBox:"0 0 24 24",fill:"#616161",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},a),n?r.createElement("title",{id:l},n):null,d||(d=r.createElement("path",{d:"M8 12C8 13.1046 7.10457 14 6 14C4.89543 14 4 13.1046 4 12C4 10.8954 4.89543 10 6 10C7.10457 10 8 10.8954 8 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM18 14C19.1046 14 20 13.1046 20 12C20 10.8954 19.1046 10 18 10C16.8954 10 16 10.8954 16 12C16 13.1046 16.8954 14 18 14Z"})))},p=(0,r.forwardRef)(m);var h=n(64631),f=n(63211),x=n(50911),g=n(66160),v=n(14566),b=n(57425),w=n(80683);const y=e=>{let{uid:t,type:n="embed",cid:l}=e;const{t:r}=(0,v.$G)("member"),{t:s}=(0,v.$G)(),{canCopyEmail:o,copyEmail:d,removeFromChannel:u,canRemoveFromChannel:m,canRemove:y,removeUser:C}=(0,x.Z)({uid:t,cid:l}),{data:j}=(0,g.CG)((e=>({data:e.users.byId[t]})));if(!j)return null;const{name:N,email:Z,avatar:_}=j,E="card"==n,k=!E&&y,L=Z||m||k,O="cursor-pointer flex flex-col items-center gap-1 rounded-lg w-32 text-primary-400 bg-slate-100 dark:bg-gray-700 text-sm pt-3.5 pb-3",H=(0,b.Z)("flex-center flex-col w-[432px] gap-1 z-[99] mt-20 select-none",E&&"p-4 w-[280px] bg-white dark:bg-gray-800 drop-shadow rounded-md");return(0,w.jsxs)("div",{className:H,children:[(0,w.jsx)(h.Z,{width:80,height:80,className:"rounded-full w-20 h-20 object-cover",src:_,name:N}),(0,w.jsx)("h2",{className:"text-lg select-text font-bold text-[#1c1c1e] dark:text-white",children:N}),(0,w.jsx)("span",{className:"text-sm text-[#98a2b3] dark:text-gray-200 select-text",children:Z}),(0,w.jsxs)("ul",{className:(0,b.Z)("mt-6 flex items-center gap-2",E&&"pb-0.5"),children:[(0,w.jsx)(a.OL,{to:`/chat/dm/${t}`,children:(0,w.jsxs)("li",{className:`${O} icon chat`,children:[(0,w.jsx)(c,{}),(0,w.jsx)("span",{children:r("send_msg")})]})}),(0,w.jsx)(i.ZP,{disabled:!L,interactive:!0,popperOptions:{strategy:"fixed"},placement:"bottom-start",trigger:"click",hideOnClick:!0,content:(0,w.jsxs)(f.Z,{children:[o&&(0,w.jsx)("li",{className:"item",onClick:d.bind(void 0,Z),children:r("copy_email")}),m&&(0,w.jsx)("li",{className:"item danger",onClick:u.bind(null,t),children:r("remove_from_channel")}),k&&(0,w.jsx)("li",{className:"item danger",onClick:C.bind(null,t),children:r("remove")})]}),children:(0,w.jsxs)("li",{className:`${O} icon ${L?"":"text-gray-500"}`,children:[(0,w.jsx)(p,{className:L?"fill-primary-500":""}),(0,w.jsx)("span",{children:s("more")})]})})]})]})},C=(0,r.memo)(y)},63211:(e,t,n)=>{n.d(t,{Z:()=>l});const l=n(57889).ZP.ul`
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 4px;
  background-color: #fff;
  box-shadow: 0 20px 25px 20px rgba(31, 41, 55, 0.1), 0 10px 10px rgba(31, 41, 55, 0.04);
  border-radius: 12px;
  min-width: 200px;
  .item {
    position: relative;
    display: flex;
    align-items: center;
    gap: 14px;
    white-space: nowrap;
    cursor: pointer;
    border-radius: 6px;
    padding: 6px;
    font-style: normal;
    font-weight: 600;
    font-size: 14px;
    line-height: 20px;
    color: #616161;
    .icon {
      width: 20px;
      height: 20px;
      path {
        fill: #475467;
      }
    }
    &.sb {
      justify-content: space-between;
    }
    &:hover {
      background-color: #22ccee;
      color: #fff;
      .icon {
        path {
          fill: #fff;
        }
      }
    }
    &.bottom_line {
      margin-bottom: 9px;
      &:before {
        position: absolute;
        content: "";
        left: 6px;
        bottom: -4px;
        display: block;
        padding: 0 6px;
        box-sizing: border-box;
        width: calc(100% - 12px);
        height: 1px;
        background-color: #f2f4f7;
      }
    }
    &.danger {
      color: #a11043;
      &:hover {
        background-color: #b42318;
        color: #fff;
      }
    }
    &[data-disabled="true"] {
      color: #a4a8b3;
      .icon {
        path {
          fill: #a4a8b3;
        }
      }
    }
  }
`},26209:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(70537),r=n(34108),a=n(27418);const i=e=>{const{enableToast:t=!0}=e||{},[n,i]=(0,l.useState)(!1);(0,l.useEffect)((()=>{n&&t&&a.ZP.success("Copied!")}),[n]);const s=e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const n=document.getSelection();if(!n)return!1;const l=n.rangeCount>0&&n.getRangeAt(0);t.select();const r=document.execCommand("copy");return document.body.removeChild(t),l&&(n.removeAllRanges(),n.addRange(l)),r};return{copied:n,copy:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=0;return n||(t?(0,r.VP)(e).then((()=>{i(!0),l=window.setTimeout((()=>{i(!1)}),500)})):(i(s(e)),l=window.setTimeout((()=>{i(!1)}),500))),()=>{clearTimeout(l)}}}}},50911:(e,t,n)=>{n.d(t,{Z:()=>m});var l=n(70537),r=n(27418),a=n(15924),i=n(69195),s=n(6144),o=n(52334),c=n(26209),d=n(66160),u=n(14566);const m=e=>{let{uid:t,cid:n}=e;const{t:m}=(0,u.$G)(),[p,h]=(0,l.useState)(void 0),f=(0,a.bS)(`/users/${t}`),[x,{isSuccess:g}]=(0,o.EO)(),[v,{isSuccess:b}]=(0,s.Cg)(),w=(0,a.s0)(),{copy:y}=(0,c.Z)(),{user:C,channel:j,loginUser:N}=(0,d.CG)((e=>({user:"undefined"!==typeof t?e.users.byId[t]:t,channel:"undefined"!==typeof n?e.channels.byId[n]:n,loginUser:e.authData.user})));(0,l.useEffect)((()=>{h(null!==t&&void 0!==t?t:null===N||void 0===N?void 0:N.uid)}),[t,N]),(0,l.useEffect)((()=>{(b||g)&&(r.ZP.success(m("tip.delete")),g&&f&&w("/users"))}),[b,g,f]);const Z=!(null===N||void 0===N||!N.is_admin),_=null===N||void 0===N?void 0:N.uid,E=!!n&&!(null!==j&&void 0!==j&&j.is_public)&&Z,k=!!n&&!(null!==j&&void 0!==j&&j.is_public)&&(Z||(null===j||void 0===j?void 0:j.owner)==_)&&t!=(null===j||void 0===j?void 0:j.owner);return{canDeleteChannel:E,canRemove:Z&&_!=t&&!n&&1!==t,removeUser:e=>{const t=!Number.isNaN(+e)&&e||p;t&&(x(t),(0,i.Bn)())},startChat:()=>{w(`/chat/dm/${t}`)},removeFromChannel:e=>{if(!n)return;const t=!Number.isNaN(+e)&&e||p;t&&(v({id:+n,members:[+t]}),(0,i.Bn)())},canRemoveFromChannel:k,canCopyEmail:!(null===C||void 0===C||!C.email),copyEmail:e=>{const t="string"==typeof e&&e||(null===C||void 0===C?void 0:C.email);y(t||""),(0,i.Bn)()}}}},32102:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var l=n(70537),r=n(96954),a=n(7699),i=n.n(a),s=n(20814),o=n(8969),c=n(26906),d=n(31271),u=n(79884),m=n(25552),p=n(80308),h=n(66160),f=n(14566),x=n(57425),g=n(11855),v=n(80683);const b=function(){const{t:e}=(0,f.$G)("fav"),[t,n]=(0,l.useState)(""),[a,b]=(0,l.useState)([]),{removeFavorite:w}=(0,g.Z)({}),y=[{icon:(0,v.jsx)(c.Z,{className:"w-[15px] h-5"}),title:e("all_items"),filter:""},{icon:(0,v.jsx)(d.Z,{className:"w-[15px] h-5"}),title:e("image"),filter:"image"},{icon:(0,v.jsx)(o.Z,{className:"w-[15px] h-5"}),title:e("video"),filter:"video"},{icon:(0,v.jsx)(s.Z,{className:"w-[15px] h-5"}),title:e("audio"),filter:"audio"}],{favorites:C,channelData:j,userData:N}=(0,h.CG)((e=>({favorites:e.favorites,userData:e.users.byId,channelData:e.channels.byId}))),Z=e=>{n(e)};(0,l.useEffect)((()=>{if(t)switch(t){case"audio":b(C.filter((e=>(e.messages||[]).every((e=>{var t;const n=null===(t=e.properties)||void 0===t?void 0:t.content_type;return e.content_type==p.bT.file&&n.startsWith("audio")})))));break;case"video":b(C.filter((e=>(e.messages||[]).every((e=>{var t;const n=null===(t=e.properties)||void 0===t?void 0:t.content_type;return e.content_type==p.bT.file&&n.startsWith("video")})))));break;case"image":{const e=C.filter((e=>(e.messages||[]).every((e=>{var t;const n=null===(t=e.properties)||void 0===t?void 0:t.content_type;return e.content_type==p.bT.file&&n.startsWith("image")}))));b(e)}}else b(C)}),[t,C]);const _=e=>{const{id:t=""}=e.currentTarget.dataset;w(t)};return(0,v.jsxs)("div",{className:"h-screen flex bg-white mt-2 mr-6 mb-2.5 overflow-auto dark:bg-[#384250] rounded-2xl",children:[(0,v.jsx)("div",{className:"min-w-[268px] p-2 shadow-inner-[-1px_0px_0px_rgba(0,_0,_0,_0.1)]",children:(0,v.jsx)("ul",{className:"flex flex-col gap-0.5",children:y.map((e=>{let{icon:n,title:l,filter:r}=e;return(0,v.jsxs)("li",{className:(0,x.Z)(r==t&&"bg-[rgba(116,_127,_141,_0.2)]","cursor-pointer flex items-center gap-2 p-2 rounded-lg hover:bg-[rgba(116,_127,_141,_0.2)]"),onClick:Z.bind(null,r),children:[n,(0,v.jsx)("span",{className:"font-bold text-sm text-gray-600 dark:text-gray-100",children:l})]},r)}))})}),(0,v.jsx)("div",{className:"w-full p-4 flex flex-col overflow-y-scroll gap-8",children:a.map((e=>{var t,n;let{id:l,created_at:a,messages:s}=e;if(!s||0==s.length)return null;const[{source:{gid:o,uid:c}}]=s,d=(0,v.jsx)("span",{className:(0,x.Z)("inline-flex items-center gap-1 mr-2"),children:o?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.Z,{className:"w-3 h-3"})," ",null===(t=j[o])||void 0===t?void 0:t.name]}):(0,v.jsxs)(v.Fragment,{children:["From ",(0,v.jsx)("strong",{className:"font-bold text-gray-800",children:null===(n=N[c])||void 0===n?void 0:n.name})]})});return(0,v.jsxs)("div",{className:"max-w-[600px] flex flex-col gap-1",children:[(0,v.jsxs)("h4",{className:"inline-flex items-center text-xs text-gray-400",children:[d,i()(a).format("YYYY-MM-DD")]}),(0,v.jsxs)("div",{className:"relative group",children:[(0,v.jsx)(r.Z,{id:l},l),(0,v.jsx)("button",{className:"absolute top-2 right-2 flex-center w-6 h-6 p-1 border border-solid border-slate-200 rounded invisible group-hover:visible","data-id":l,onClick:_,children:(0,v.jsx)(m.Z,{className:"fill-slate-900"})})]})]},l)}))})]})}}}]);