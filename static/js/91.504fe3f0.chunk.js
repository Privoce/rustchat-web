"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[91],{91601:(e,t,a)=>{a.r(t),a.d(t,{default:()=>G});var l=a(6151),s=a(69300),n=a(60372),r=a(66409),i=a(21193),o=a(8307),c=a(26375),d=a(11068),u=a(86076),m=a(37469),x=a(4919),p=a(59770),f=a(29375);const b=({select:e=0,updateFilter:t})=>{const{channels:a}=(0,x.A)(),l=e=>{t({channel:e})};return(0,f.jsx)("div",{className:"rounded-lg p-1 pt-0 bg-white dark:bg-gray-800 overflow-auto max-h-[400px] flex flex-col items-start relative drop-shadow",children:(0,f.jsxs)("ul",{className:"w-full flex flex-col gap-4 p-2",children:[(0,f.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2",onClick:l.bind(null,void 0),children:[(0,f.jsx)(m.A,{}),(0,f.jsx)("span",{className:"text-gray-500 dark:text-gray-100 font-semibold text-sm",children:"Any Channel"}),!e&&(0,f.jsx)(p.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),a.map((({gid:t,is_public:a,name:s})=>(0,f.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2",onClick:l.bind(null,t),children:[(0,f.jsx)(m.A,{personal:!a}),(0,f.jsx)("span",{className:"text-gray-500 dark:text-gray-100 font-semibold text-sm",children:s}),e==t&&(0,f.jsx)(p.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]},t)))]})})},h={today:{title:"Today",duration:2222},in7d:{title:"Last 7 Days"},in30d:{title:"Last 30 Days"},in3m:{title:"Last 3 months"},in12m:{title:"Last 12 months"}},g=({select:e="",updateFilter:t})=>{const a=e=>{t({date:e})};return(0,f.jsx)("div",{className:"p-3 bg-white dark:bg-gray-800 min-w-[200px] overflow-auto rounded-lg flex flex-col items-start relative drop-shadow",children:(0,f.jsxs)("ul",{className:"w-full flex flex-col gap-4",children:[(0,f.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:a.bind(null,void 0),children:["Any Time",!e&&(0,f.jsx)(p.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),Object.entries(h).map((([t,{title:l}])=>(0,f.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:a.bind(null,t),children:[l,e==t&&(0,f.jsx)(p.A,{className:"absolute right-0 -top-1/2 -translate-y-1/2"})]},l)))]})})};var y=a(80153),v=a(30399),w=a(3723);const j=({value:e="",updateSearchValue:t=null,embed:a=!1})=>{const{t:l}=(0,o.Bd)();return(0,f.jsxs)("div",{className:(0,s.A)("hidden md:block relative w-full py-1.5 px-4 shadow",a&&"py-2 shadow-none"),children:[(0,f.jsx)(w.A,{className:"absolute left-6 top-1/2 -translate-y-1/2"}),(0,f.jsx)("input",{value:e,onChange:e=>{t&&t(e.target.value)},className:"bg-black/5 dark:bg-black/20 rounded-full text-sm text-gray-500 py-2.5 pl-9",placeholder:`${l("action.search")}...`})]})},k=({select:e="",updateFilter:t})=>{const{input:a,updateInput:l,users:s}=(0,v.A)(),n=e=>{t({from:e})};return(0,f.jsxs)("div",{className:"rounded-lg p-1 pt-0 bg-white dark:bg-gray-800 overflow-auto max-h-[300px] flex flex-col items-start relative drop-shadow",children:[(0,f.jsx)("div",{className:"bg-white dark:bg-gray-800 sticky top-0 z-10 w-full",children:(0,f.jsx)(j,{embed:!0,value:a,updateSearchValue:l})}),(0,f.jsxs)("ul",{className:"w-full flex flex-col",children:[(0,f.jsxs)("li",{className:"relative cursor-pointer p-2.5 font-semibold text-sm text-gray-500",onClick:n.bind(null,void 0),children:["Anyone",!e&&(0,f.jsx)(p.A,{className:"absolute right-1.5 top-1/2 -translate-y-1/2"})]}),s.map((({uid:t})=>(0,f.jsxs)("li",{className:"relative cursor-pointer",onClick:n.bind(null,t),children:[(0,f.jsx)(y.A,{uid:t,interactive:!0}),e==t&&(0,f.jsx)(p.A,{className:"absolute right-1.5 top-1/2 -translate-y-1/2"})]},t)))]})]})};var N=a(40553),A=a(96858),C=a(29209),_=a(11732),L=a(94565),S=a(36741),E=a(79438);const I={doc:{title:"Documents",icon:(0,f.jsx)(C.A,{className:"w-4 h-auto"})},pdf:{title:"PDFs",icon:(0,f.jsx)(L.A,{className:"w-4 h-auto"})},image:{title:"Images",icon:(0,f.jsx)(_.A,{className:"w-4 h-auto"})},audio:{title:"Audio",icon:(0,f.jsx)(N.A,{className:"w-4 h-auto"})},video:{title:"Videos",icon:(0,f.jsx)(E.A,{className:"w-4 h-auto"})},code:{title:"Code Snippets",icon:(0,f.jsx)(A.A,{className:"w-4 h-auto"})},unknown:{title:"Unknown Files",icon:(0,f.jsx)(S.A,{className:"w-4 h-auto"})}},F=({select:e="",updateFilter:t})=>{const a=e=>{t({type:e})};return(0,f.jsx)("div",{className:"p-3 bg-white dark:bg-gray-800 min-w-[180px] overflow-auto shadow-md rounded-lg flex flex-col items-start relative",children:(0,f.jsxs)("ul",{className:"w-full flex flex-col gap-4",children:[(0,f.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:a.bind(null,void 0),children:["Any Type",!e&&(0,f.jsx)(p.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),Object.entries(I).map((([t,{title:l,icon:s}])=>(0,f.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2 text-sm text-gray-500 dark:text-gray-300 font-semibold",onClick:a.bind(null,t),children:[s," ",l,e==t&&(0,f.jsx)(p.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]},l)))]})})};var W=a(96570);const O=e=>(0,s.A)("cursor-pointer flex items-center gap-1 md:gap-2 shadow rounded-lg p-1 md:py-2 md:px-3 text-xs text-gray-900 dark:text-gray-200",e?"text-white bg-primary-400":"border border-solid border-gray-300 dark:border-gray-400 ");function V({filter:e,updateFilter:t}){const{t:a}=(0,o.Bd)("file"),[s,n]=(0,l.useState)({channel:!1,date:!1,from:!1,type:!1}),i=e=>{n((t=>({...t,...e})))},m=e=>{t(e);let a=Object.keys(e)[0];i({[a]:!1})},x=(0,r.GV)((e=>e.users.byId),W.bN),p=(0,r.GV)((e=>e.channels.byId),W.bN),{from:y,channel:v,type:w,date:j}=e,{channel:N,date:A,type:C,from:_}=s;return(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{from:!1}),visible:_,placement:"bottom-start",content:(0,f.jsx)(k,{select:e.from,updateFilter:m}),children:(0,f.jsxs)("div",{className:O(y),onClick:i.bind(null,{from:!0}),children:[y&&(0,f.jsx)(d.A,{width:16,height:16,className:"rounded-full w-4 h-4",name:x[y].name,src:x[y].avatar}),(0,f.jsxs)("span",{className:"txt",children:[a("from")," ",y&&x[y].name]}),(0,f.jsx)(u.A,{className:"dark:stroke-gray-100"})]})}),(0,f.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{channel:!1}),visible:N,placement:"bottom-start",content:(0,f.jsx)(b,{select:e.channel,updateFilter:m}),children:(0,f.jsxs)("div",{className:O(v),onClick:i.bind(null,{channel:!0}),children:[(0,f.jsx)("span",{className:"txt",children:v?`In ${p[v].name}`:a("channel")}),(0,f.jsx)(u.A,{className:"dark:stroke-gray-100"})]})}),(0,f.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{type:!1}),visible:C,placement:"bottom-start",content:(0,f.jsx)(F,{select:e.type,updateFilter:m}),children:(0,f.jsxs)("div",{className:O(w),onClick:i.bind(null,{type:!0}),children:[(0,f.jsx)("span",{className:"txt",children:w?I[w].title:a("type")}),(0,f.jsx)(u.A,{className:"dark:stroke-gray-100"})]})}),(0,f.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{date:!1}),visible:A,placement:"bottom-start",content:(0,f.jsx)(g,{select:e.date,updateFilter:m}),children:(0,f.jsxs)("div",{className:O(j),onClick:i.bind(null,{date:!0}),children:[(0,f.jsx)("span",{className:"txt",children:j?h[j].title:a("date")}),(0,f.jsx)(u.A,{className:"dark:stroke-gray-100"})]})})]})}var z=a(13446),D=a(5089),T=a(72133);const R=e=>(0,s.A)("cursor-pointer p-2 box-border flex-center",e&&"border border-solid border-primary-400 shadow rounded-lg");function X({view:e="item"}){const t=(0,W.wA)(),a=a=>{const{view:l}=a.currentTarget.dataset;l!=e&&t((0,z.PU)("item"==e?"grid":"item"))},l="grid"==e;return(0,f.jsxs)("ul",{className:"hidden md:flex border border-solid dark:border-gray-400 shadow rounded-lg box-border",children:[(0,f.jsx)("li",{className:R(!l),"data-view":"item",onClick:a,children:(0,f.jsx)(T.A,{className:(l?"":"fill-primary-400")+" dark:fill-gray-400"})}),(0,f.jsx)("li",{className:R(l),"data-view":"grid",onClick:a,children:(0,f.jsx)(D.A,{className:(l?"fill-primary-400":"")+" dark:fill-gray-400"})})]})}var $=a(72734);const G=function(){const[e,{data:t}]=(0,$.lP)(),a=(0,l.useRef)(),[o,c]=(0,l.useState)({}),d=(0,r.GV)((e=>e.ui.fileListView.view),W.bN);if((0,l.useEffect)((()=>{e()}),[]),!t)return null;const u=t.filter((e=>!e.expired));return(0,f.jsxs)("div",{className:"h-screen md:overflow-y-scroll flex flex-col items-start my-2 mr-6 rounded-2xl bg-white dark:bg-gray-700",children:[(0,f.jsx)(j,{value:o.name,updateSearchValue:e=>{c((t=>({...t,name:e})))}}),(0,f.jsxs)("div",{className:"flex justify-between w-full px-4 py-5",children:[(0,f.jsx)(V,{filter:o,updateFilter:e=>{c((t=>({...t,...e})))}}),(0,f.jsx)(X,{view:d})]}),(0,f.jsx)("div",{className:(0,s.A)("h-full w-full px-4 overflow-y-scroll no-scrollbar","item"==d&&"flex gap-2 flex-col","grid"==d&&"col-count-2 md:col-count-3 lg:col-count-5"),style:{columnGap:"5px"},ref:a,children:u.map((e=>{const{mid:t,thumbnail:a,content:l,created_at:s,from_uid:r,properties:o}=e,{name:c,content_type:u,size:m}=o?JSON.parse(o):{},x=`${n.Ay}/resource/file?file_path=${encodeURIComponent(a||l)}`;return(0,f.jsx)(i.A,{cla:!0,preview:"grid"==d,flex:"item"==d,file_type:u,content:x,created_at:s,from_uid:r,size:m,name:c},t)}))})]})}},13107:(e,t,a)=>{a.d(t,{r:()=>n});var l=a(6151);const s="undefined"===typeof window?l.useEffect:l.useLayoutEffect;function n(e,t=!1){const a=t?s:l.useEffect,n=(0,l.useRef)(e);return a((()=>{n.current=e})),n}},23376:(e,t,a)=>{a.d(t,{B:()=>r});var l=a(6151),s=a(13107);function n(e,t){const a=function(e){var t;if("undefined"===typeof localStorage)return null;const a=null!==(t=localStorage.getItem(e))&&void 0!==t?t:"null";try{return JSON.parse(a)}catch(l){console.error(l)}return a}(e);return null===a?"function"===typeof t?t():t:a}function r(e,t){const[a,r]=(0,l.useState)((()=>n(e,t))),i=(0,l.useRef)(!1),o=(0,l.useRef)(!1),c=(0,l.useMemo)((()=>`rooks-${e}-localstorage-update`),[e]);(0,l.useEffect)((()=>{i.current&&o.current||function(e,t){"undefined"===typeof localStorage||(void 0===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}(e,a)}),[e,a]);const d=(0,l.useCallback)((t=>{var l;if(t.storageArea===localStorage&&t.key===e)try{i.current=!0;const e=JSON.parse(null!==(l=t.newValue)&&void 0!==l?l:"null");a!==e&&r(e)}catch(s){}}),[e,a]);(0,l.useEffect)((()=>"undefined"!==typeof window?(window.addEventListener("storage",d),()=>{window.removeEventListener("storage",d)}):(console.warn("useLocalstorageState: window is undefined."),()=>{})),[d]);const u=(0,l.useCallback)((e=>{try{o.current=!0;const{newValue:t}=e.detail;a!==t&&r(t)}catch(t){}}),[a]);(0,l.useEffect)((()=>"undefined"!==typeof document?(document.addEventListener(c,u),()=>{document.removeEventListener(c,u)}):(console.warn("[useLocalstorageState] document is undefined."),()=>{})),[c,u]);const m=(0,l.useCallback)((e=>{if("undefined"!==typeof document){const t=new CustomEvent(c,{detail:{newValue:e}});document.dispatchEvent(t)}else console.warn("[useLocalstorageState] document is undefined.")}),[c]),x=(0,s.r)(a,!0),p=(0,l.useCallback)((e=>{const t="function"===typeof e?e(x.current):e;i.current=!1,o.current=!1,r(t),m(t)}),[m,x]),f=(0,l.useCallback)((()=>{localStorage.removeItem(e)}),[e]);return[a,p,f]}},46826:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(6151),s=a(86248),n=a(39023),r="LineWobble-module_container__IkLcd";function i(e){let{size:t=80,color:a="black",lineWeight:n=5,speed:i=1.75}=e;return(0,s.A)("LineWobble","size",t,"number"),(0,s.A)("LineWobble","color",a,"string"),(0,s.A)("LineWobble","speed",i,"number"),(0,s.A)("LineWobble","lineWeight",n,"number"),l.createElement("div",{className:r,style:{"--uib-size":t+"px","--uib-color":a,"--uib-line-weight":n+"px","--uib-speed":i+"s"}})}(0,n.s)('.LineWobble-module_container__IkLcd{align-items:center;border-radius:calc(var(--uib-line-weight)/2);display:flex;height:var(--uib-line-weight);justify-content:center;overflow:hidden;position:relative;transform:translateZ(0);width:var(--uib-size)}.LineWobble-module_container__IkLcd:before{background-color:var(--uib-color);content:"";height:100%;left:0;opacity:.1;position:absolute;top:0;width:100%}.LineWobble-module_container__IkLcd:after{animation:LineWobble-module_wobble__XpxDM var(--uib-speed) ease-in-out infinite;background-color:var(--uib-color);border-radius:calc(var(--uib-line-weight)/2);content:"";height:100%;transform:translateX(-95%);width:100%}@keyframes LineWobble-module_wobble__XpxDM{0%,to{transform:translateX(-95%)}50%{transform:translateX(95%)}}')}}]);